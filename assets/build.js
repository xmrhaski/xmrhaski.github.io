!function(e,t){var n,i,a=typeof t,r=e.location,s=e.document,o=s.documentElement,l=e.jQuery,c=e.$,u={},d=[],f="2.0.3",h=d.concat,p=d.push,m=d.slice,g=d.indexOf,v=u.toString,y=u.hasOwnProperty,b=f.trim,w=function(e,t){return new w.fn.init(e,t,n)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,C=/\S+/g,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,E=/-([\da-z])/gi,$=function(e,t){return t.toUpperCase()},D=function(){s.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1),w.ready()};function T(e){var t=e.length,n=w.type(e);return!w.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}w.fn=w.prototype={jquery:f,constructor:w,init:function(e,n,i){var a,r;if(!e)return this;if("string"==typeof e){if(!(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:S.exec(e))||!a[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(a[1]){if(n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(a[1],n&&n.nodeType?n.ownerDocument||n:s,!0)),F.test(a[1])&&w.isPlainObject(n))for(a in n)w.isFunction(this[a])?this[a](n[a]):this.attr(a,n[a]);return this}return(r=s.getElementById(a[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=s,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return m.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(m.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:p,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,i,a,r,s,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),"object"==typeof o||w.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=o[n],o!==(a=e[n])&&(u&&a&&(w.isPlainObject(a)||(r=w.isArray(a)))?(r?(r=!1,s=i&&w.isArray(i)?i:[]):s=i&&w.isPlainObject(i)?i:{},o[n]=w.extend(u,s,a)):a!==t&&(o[n]=a));return o},w.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=c),t&&e.jQuery===w&&(e.jQuery=l),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||(i.resolveWith(s,[w]),w.fn.trigger&&w(s).trigger("ready").off("ready")))},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[v.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||s;var i=F.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=w.buildFragment([e],t,a),a&&w(a).remove(),w.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new DOMParser).parseFromString(e,"text/xml")}catch(e){n=t}return(!n||n.getElementsByTagName("parsererror").length)&&w.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){var t,n=eval;(e=w.trim(e))&&(1===e.indexOf("use strict")?((t=s.createElement("script")).text=e,s.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(E,$)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,a=e.length,r=T(e);if(n){if(r)for(;a>i&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;a>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":b.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?w.merge(n,"string"==typeof e?[e]:e):p.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,n){var i=n.length,a=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[a++]=n[r];else for(;n[r]!==t;)e[a++]=n[r++];return e.length=a,e},grep:function(e,t,n){var i=[],a=0,r=e.length;for(n=!!n;r>a;a++)n!==!!t(e[a],a)&&i.push(e[a]);return i},map:function(e,t,n){var i,a=0,r=e.length,s=[];if(T(e))for(;r>a;a++)null!=(i=t(e[a],a,n))&&(s[s.length]=i);else for(a in e)null!=(i=t(e[a],a,n))&&(s[s.length]=i);return h.apply([],s)},guid:1,proxy:function(e,n){var i,a,r;return"string"==typeof n&&(i=e[n],n=e,e=i),w.isFunction(e)?(a=m.call(arguments,2),(r=function(){return e.apply(n||this,a.concat(m.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r):t},access:function(e,n,i,a,r,s,o){var l=0,c=e.length,u=null==i;if("object"===w.type(i))for(l in r=!0,i)w.access(e,n,l,i[l],!0,s,o);else if(a!==t&&(r=!0,w.isFunction(a)||(o=!0),u&&(o?(n.call(e,a),n=null):(u=n,n=function(e,t,n){return u.call(w(e),n)})),n))for(;c>l;l++)n(e[l],i,o?a:a.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):s},now:Date.now,swap:function(e,t,n,i){var a,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];for(r in a=n.apply(e,i||[]),t)e.style[r]=s[r];return a}}),w.ready.promise=function(t){return i||(i=w.Deferred(),"complete"===s.readyState?setTimeout(w.ready):(s.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1))),i.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()}),n=w(s),function(e,t){var n,i,a,r,s,o,l,c,u,d,f,h,p,m,g,v,y,b="sizzle"+-new Date,x=e.document,C=0,S=0,F=se(),k=se(),E=se(),$=!1,D=function(e,t){return e===t?($=!0,0):0},T="undefined",z=1<<31,A={}.hasOwnProperty,M=[],N=M.pop,O=M.push,I=M.push,L=M.slice,_=M.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",P=q.replace("w","w#"),R="\\["+H+"*("+q+")"+H+"*(?:([*^$|!~]?=)"+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+P+")|)|)"+H+"*\\]",B=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+R.replace(3,8)+")*)|.*)\\)|)",V=RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),W=RegExp("^"+H+"*,"+H+"*"),U=RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),J=RegExp(H+"*[+~]"),X=RegExp("="+H+"*([^\\]'\"]*)"+H+"*\\]","g"),G=RegExp(B),Y=RegExp("^"+P+"$"),Q={ID:RegExp("^#("+q+")"),CLASS:RegExp("^\\.("+q+")"),TAG:RegExp("^("+q.replace("w","w*")+")"),ATTR:RegExp("^"+R),PSEUDO:RegExp("^"+B),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:RegExp("^(?:"+j+")$","i"),needsContext:RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/'|\\/g,ie=RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),ae=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{I.apply(M=L.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){I={apply:M.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,a){var r,s,o,l,c,u,h,g,v,w;if((t?t.ownerDocument||t:x)!==f&&d(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(p&&!a){if(r=Z.exec(e))if(o=r[1]){if(9===l){if(!(s=t.getElementById(o))||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&y(t,s)&&s.id===o)return n.push(s),n}else{if(r[2])return I.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&i.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&(!m||!m.test(e))){if(g=h=b,v=t,w=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(u=me(e),(h=t.getAttribute("id"))?g=h.replace(ne,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",c=u.length;c--;)u[c]=g+ge(u[c]);v=J.test(e)&&t.parentNode||t,w=u.join(",")}if(w)try{return I.apply(n,v.querySelectorAll(w)),n}catch(e){}finally{h||t.removeAttribute("id")}}}return Se(e.replace(V,"$1"),t,n,a)}function se(){var e=[];return function t(n,i){return e.push(n+=" ")>r.cacheLength&&delete t[e.shift()],t[n]=i}}function oe(e){return e[b]=!0,e}function le(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return oe(function(t){return t=+t,oe(function(n,i){for(var a,r=e([],n.length,t),s=r.length;s--;)n[a=r[s]]&&(n[a]=!(i[a]=n[a]))})})}for(n in o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},i=re.support={},d=re.setDocument=function(e){var t=e?e.ownerDocument||e:x,n=t.defaultView;return t!==f&&9===t.nodeType&&t.documentElement?(f=t,h=t.documentElement,p=!o(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){d()}),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=le(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),i.getById=le(function(e){return h.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),i.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==T&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){var n=typeof e.getAttributeNode!==T&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=i.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==T?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},r.find.CLASS=i.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==T&&p?t.getElementsByClassName(e):void 0},g=[],m=[],(i.qsa=K.test(t.querySelectorAll))&&(le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+H+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),le(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&m.push("[*^$]="+H+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=K.test(v=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){i.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),g.push("!=",B)}),m=m.length&&RegExp(m.join("|")),g=g.length&&RegExp(g.join("|")),y=K.test(h.contains)||h.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=h.compareDocumentPosition?function(e,n){if(e===n)return $=!0,0;var a=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return a?1&a||!i.sortDetached&&n.compareDocumentPosition(e)===a?e===t||y(x,e)?-1:n===t||y(x,n)?1:u?_.call(u,e)-_.call(u,n):0:4&a?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,a=0,r=e.parentNode,s=n.parentNode,o=[e],l=[n];if(e===n)return $=!0,0;if(!r||!s)return e===t?-1:n===t?1:r?-1:s?1:u?_.call(u,e)-_.call(u,n):0;if(r===s)return ue(e,n);for(i=e;i=i.parentNode;)o.unshift(i);for(i=n;i=i.parentNode;)l.unshift(i);for(;o[a]===l[a];)a++;return a?ue(o[a],l[a]):o[a]===x?-1:l[a]===x?1:0},t):f},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(X,"='$1']"),!(!i.matchesSelector||!p||g&&g.test(t)||m&&m.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,f,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var n=r.attrHandle[t.toLowerCase()],a=n&&A.call(r.attrHandle,t.toLowerCase())?n(e,t,!p):void 0;return void 0===a?i.attributes||!p?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null:a},re.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],a=0,r=0;if($=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(D),$){for(;t=e[r++];)t===e[r]&&(a=n.push(r));for(;a--;)e.splice(n[a],1)}return e},s=re.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i];i++)n+=s(t);return n},(r=re.selectors={cacheLength:50,createPseudo:oe,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,ae),e[3]=(e[4]||e[5]||"").replace(ie,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&G.test(n)&&(t=me(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var a=re.attr(i,e);return null==a?"!="===t:!t||(a+="","="===t?a===n:"!="===t?a!==n:"^="===t?n&&0===a.indexOf(n):"*="===t?n&&a.indexOf(n)>-1:"$="===t?n&&a.slice(-n.length)===n:"~="===t?(" "+a+" ").indexOf(n)>-1:"|="===t&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,m=r!==s?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(h=(c=(u=g[b]||(g[b]={}))[e]||[])[0]===C&&c[1],f=c[0]===C&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[C,h,f];break}}else if(y&&(c=(t[b]||(t[b]={}))[e])&&c[0]===C)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[b]||(d[b]={}))[e]=[C,f]),d!==t)););return(f-=a)===i||0==f%i&&f/i>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,n){for(var a,r=i(e,t),s=r.length;s--;)e[a=_.call(e,r[s])]=!(n[a]=r[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:oe(function(e){var t=[],n=[],i=l(e.replace(V,"$1"));return i[b]?oe(function(e,t,n,a){for(var r,s=i(e,null,a,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:oe(function(e){return function(t){return re(e,t).length>0}}),contains:oe(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:oe(function(e){return Y.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(ie,ae).toLowerCase(),function(t){var n;do{if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[0>n?n+t:n]}),even:he(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[n]=de(n);for(n in{submit:!0,reset:!0})r.pseudos[n]=fe(n);function pe(){}function me(e,t){var n,i,a,s,o,l,c,u=k[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=r.preFilter;o;){for(s in(!n||(i=W.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(a=[])),n=!1,(i=U.exec(o))&&(n=i.shift(),a.push({value:n,type:i[0].replace(V," ")}),o=o.slice(n.length)),r.filter)!(i=Q[s].exec(o))||c[s]&&!(i=c[s](i))||(n=i.shift(),a.push({value:n,type:s,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?re.error(e):k(e,l).slice(0)}function ge(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=S++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var l,c,u,d=C+" "+s;if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if((c=(u=t[b]||(t[b]={}))[i])&&c[0]===d){if(!0===(l=c[1])||l===a)return!0===l}else if((c=u[i]=[d])[1]=e(t,n,o)||a,!0===c[1])return!0}}function ye(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,a){for(var r,s=[],o=0,l=e.length,c=null!=t;l>o;o++)(r=e[o])&&(!n||n(r,i,a))&&(s.push(r),c&&t.push(o));return s}function we(e,t,n,i,a,r){return i&&!i[b]&&(i=we(i)),a&&!a[b]&&(a=we(a,r)),oe(function(r,s,o,l){var c,u,d,f=[],h=[],p=s.length,m=r||function(e,t,n){for(var i=0,a=t.length;a>i;i++)re(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),g=!e||!r&&t?m:be(m,f,e,o,l),v=n?a||(r?e:p||i)?[]:s:g;if(n&&n(g,v,o,l),i)for(c=be(v,h),i(c,[],o,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(r){if(a||e){if(a){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);a(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=a?_.call(r,d):f[u])>-1&&(r[c]=!(s[c]=d))}}else v=be(v===s?v.splice(p,v.length):v),a?a(null,s,v,l):I.apply(s,v)})}function xe(e){for(var t,n,i,a=e.length,s=r.relative[e[0].type],o=s||r.relative[" "],l=s?1:0,u=ve(function(e){return e===t},o,!0),d=ve(function(e){return _.call(t,e)>-1},o,!0),f=[function(e,n,i){return!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i))}];a>l;l++)if(n=r.relative[e[l].type])f=[ve(ye(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;a>i&&!r.relative[e[i].type];i++);return we(l>1&&ye(f),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,i>l&&xe(e.slice(l,i)),a>i&&xe(e=e.slice(i)),a>i&&ge(e))}f.push(n)}return ye(f)}function Ce(e,t){var n=0,i=t.length>0,s=e.length>0,o=function(o,l,u,d,h){var p,m,g,v=[],y=0,b="0",w=o&&[],x=null!=h,S=c,F=o||s&&r.find.TAG("*",h&&l.parentNode||l),k=C+=null==S?1:Math.random()||.1;for(x&&(c=l!==f&&l,a=n);null!=(p=F[b]);b++){if(s&&p){for(m=0;g=e[m++];)if(g(p,l,u)){d.push(p);break}x&&(C=k,a=++n)}i&&((p=!g&&p)&&y--,o&&w.push(p))}if(y+=b,i&&b!==y){for(m=0;g=t[m++];)g(w,v,l,u);if(o){if(y>0)for(;b--;)w[b]||v[b]||(v[b]=N.call(d));v=be(v)}I.apply(d,v),x&&!o&&v.length>0&&y+t.length>1&&re.uniqueSort(d)}return x&&(C=k,c=S),w};return i?oe(o):o}function Se(e,t,n,a){var s,o,c,u,d,f=me(e);if(!a&&1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(c=o[0]).type&&i.getById&&9===t.nodeType&&p&&r.relative[o[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(ie,ae),t)||[])[0]))return n;e=e.slice(o.shift().value.length)}for(s=Q.needsContext.test(e)?0:o.length;s--&&(c=o[s],!r.relative[u=c.type]);)if((d=r.find[u])&&(a=d(c.matches[0].replace(ie,ae),J.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),!(e=a.length&&ge(o)))return I.apply(n,a),n;break}}return l(e,f)(a,t,!p,n,J.test(e)),n}pe.prototype=r.filters=r.pseudos,r.setFilters=new pe,l=re.compile=function(e,t){var n,i=[],a=[],r=E[e+" "];if(!r){for(t||(t=me(e)),n=t.length;n--;)(r=xe(t[n]))[b]?i.push(r):a.push(r);r=E(e,Ce(a,i))}return r},i.sortStable=b.split("").sort(D).join("")===b,i.detectDuplicates=$,d(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(j,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:!0===e[t]?t.toLowerCase():null}),w.find=re,w.expr=re.selectors,w.expr[":"]=w.expr.pseudos,w.unique=re.uniqueSort,w.text=re.getText,w.isXMLDoc=re.isXML,w.contains=re.contains}(e);var z={};w.Callbacks=function(e){var n,i,a,r,s,o,l=[],c=!(e="string"==typeof e?z[e]||function(e){var t=z[e]={};return w.each(e.match(C)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e)).once&&[],u=function(t){for(n=e.memory&&t,i=!0,o=r||0,r=0,s=l.length,a=!0;l&&s>o;o++)if(!1===l[o].apply(t[0],t[1])&&e.stopOnFalse){n=!1;break}a=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var t=l.length;(function t(n){w.each(n,function(n,i){var a=w.type(i);"function"===a?e.unique&&d.has(i)||l.push(i):i&&i.length&&"string"!==a&&t(i)})})(arguments),a?s=l.length:n&&(r=t,u(n))}return this},remove:function(){return l&&w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,l,n))>-1;)l.splice(n,1),a&&(s>=n&&s--,o>=n&&o--)}),this},has:function(e){return e?w.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=c=n=t,this},disabled:function(){return!l},lock:function(){return c=t,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=[e,(t=t||[]).slice?t.slice():t],a?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,r){var s=r[0],o=w.isFunction(e[t])&&e[t];a[r[1]](function(){var e=o&&o.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},a={};return i.pipe=i.then,w.each(t,function(e,r){var s=r[2],o=r[3];i[r[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=s.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=m.call(arguments),s=r.length,o=1!==s||e&&w.isFunction(e.promise)?s:0,l=1===o?e:w.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?m.call(arguments):a,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=Array(s),n=Array(s),i=Array(s);s>a;a++)r[a]&&w.isFunction(r[a].promise)?r[a].promise().done(c(a,i,r)).fail(l.reject).progress(c(a,n,t)):--o;return o||l.resolveWith(i,r),l.promise()}}),w.support=function(t){var n=s.createElement("input"),i=s.createDocumentFragment(),a=s.createElement("div"),r=s.createElement("select"),o=r.appendChild(s.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=o.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled,(n=s.createElement("input")).value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===a.style.backgroundClip,w(function(){var n,i,r=s.getElementsByTagName("body")[0];r&&((n=s.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(n).appendChild(a),a.innerHTML="",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",w.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===a.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(a,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(a,null)||{width:"4px"}).width,(i=a.appendChild(s.createElement("div"))).style.cssText=a.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",i.style.marginRight=i.style.width="0",a.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),r.removeChild(n))}),t):t}({});var A,M,N=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=w.expando+Math.random()}function L(e,n,i){var a;if(i===t&&1===e.nodeType)if(a="data-"+n.replace(O,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(a))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:N.test(i)?JSON.parse(i):i)}catch(e){}A.set(e,n,i)}else i=t;return i}I.uid=1,I.accepts=function(e){return!e.nodeType||(1===e.nodeType||9===e.nodeType)},I.prototype={key:function(e){if(!I.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=I.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,w.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,a=this.key(e),r=this.cache[a];if("string"==typeof t)r[t]=n;else if(w.isEmptyObject(r))w.extend(this.cache[a],t);else for(i in t)r[i]=t[i];return r},get:function(e,n){var i=this.cache[this.key(e)];return n===t?i:i[n]},access:function(e,n,i){var a;return n===t||n&&"string"==typeof n&&i===t?(a=this.get(e,n))!==t?a:this.get(e,w.camelCase(n)):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,a,r,s=this.key(e),o=this.cache[s];if(n===t)this.cache[s]={};else{w.isArray(n)?a=n.concat(n.map(w.camelCase)):(r=w.camelCase(n),n in o?a=[n,r]:a=(a=r)in o?[a]:a.match(C)||[]),i=a.length;for(;i--;)delete o[a[i]]}},hasData:function(e){return!w.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},A=new I,M=new I,w.extend({acceptData:I.accepts,hasData:function(e){return A.hasData(e)||M.hasData(e)},data:function(e,t,n){return A.access(e,t,n)},removeData:function(e,t){A.remove(e,t)},_data:function(e,t,n){return M.access(e,t,n)},_removeData:function(e,t){M.remove(e,t)}}),w.fn.extend({data:function(e,n){var i,a,r=this[0],s=0,o=null;if(e===t){if(this.length&&(o=A.get(r),1===r.nodeType&&!M.get(r,"hasDataAttrs"))){for(i=r.attributes;i.length>s;s++)0===(a=i[s].name).indexOf("data-")&&(a=w.camelCase(a.slice(5)),L(r,a,o[a]));M.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){A.set(this,e)}):w.access(this,function(n){var i,a=w.camelCase(e);if(r&&n===t){if((i=A.get(r,e))!==t)return i;if((i=A.get(r,a))!==t)return i;if((i=L(r,a,t))!==t)return i}else this.each(function(){var i=A.get(this,a);A.set(this,a,n),-1!==e.indexOf("-")&&i!==t&&A.set(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){A.remove(this,e)})}}),w.extend({queue:function(e,n,i){var a;return e?(n=(n||"fx")+"queue",a=M.get(e,n),i&&(!a||w.isArray(i)?a=M.access(e,n,w.makeArray(i)):a.push(i)),a||[]):t},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,a=n.shift(),r=w._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){w.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return M.get(e,n)||M.access(e,n,{empty:w.Callbacks("once memory").add(function(){M.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,a=1,r=w.Deferred(),s=this,o=this.length,l=function(){--a||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)(i=M.get(s[o],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(l));return l(),r.promise(n)}});var _,j=/[\t\r\n\f]/g,H=/\r/g,q=/^(?:input|select|textarea|button)$/i;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})},addClass:function(e){var t,n,i,a,r,s=0,o=this.length,l="string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(C)||[];o>s;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(j," "):" ")){for(r=0;a=t[r++];)0>i.indexOf(" "+a+" ")&&(i+=a+" ");n.className=w.trim(i)}return this},removeClass:function(e){var t,n,i,a,r,s=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(C)||[];o>s;s++)if(i=1===(n=this[s]).nodeType&&(n.className?(" "+n.className+" ").replace(j," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=e?w.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=w(this),s=e.match(C)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===a||"boolean"===n)&&(this.className&&M.set(this,"__className__",this.className),this.className=this.className||!1===e?"":M.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(j," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,a,r=this[0];return arguments.length?(a=w.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=a?e.call(this,i,w(this).val()):e)?r="":"number"==typeof r?r+="":w.isArray(r)&&(r=w.map(r,function(e){return null==e?"":e+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))})):r?(n=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&(i=n.get(r,"value"))!==t?i:"string"==typeof(i=r.value)?i.replace(H,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,s=r?null:[],o=r?a+1:i.length,l=0>a?o:r?a:0;o>l;l++)if(!(!(n=i[l]).selected&&l!==a||(w.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&w.nodeName(n.parentNode,"optgroup"))){if(t=w(n).val(),r)return t;s.push(t)}return s},set:function(e,t){for(var n,i,a=e.options,r=w.makeArray(t),s=a.length;s--;)((i=a[s]).selected=w.inArray(w(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===a?w.prop(e,n,i):(1===o&&w.isXMLDoc(e)||(n=n.toLowerCase(),r=w.attrHooks[n]||(w.expr.match.bool.test(n)?_:void 0)),i===t?r&&"get"in r&&null!==(s=r.get(e,n))?s:null==(s=w.find.attr(e,n))?t:s:null!==i?r&&"set"in r&&(s=r.set(e,i,n))!==t?s:(e.setAttribute(n,i+""),i):(w.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(C);if(r&&1===e.nodeType)for(;n=r[a++];)i=w.propFix[n]||n,w.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,i){var a,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!w.isXMLDoc(e))&&(n=w.propFix[n]||n,r=w.propHooks[n]),i!==t?r&&"set"in r&&(a=r.set(e,i,n))!==t?a:e[n]=i:r&&"get"in r&&null!==(a=r.get(e,n))?a:e[n]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||q.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),_={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var i=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=function(e,n,a){var r=w.expr.attrHandle[n],s=a?t:(w.expr.attrHandle[n]=t)!=i(e,n,a)?n.toLowerCase():null;return w.expr.attrHandle[n]=r,s}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,n){return w.isArray(n)?e.checked=w.inArray(w(e).val(),n)>=0:t}},w.support.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var P=/^key/,R=/^(?:mouse|contextmenu)|click/,B=/^(?:focusinfocus|focusoutblur)$/,V=/^([^.]*)(?:\.(.+)|)$/;function W(){return!0}function U(){return!1}function J(){try{return s.activeElement}catch(e){}}w.event={global:{},add:function(e,n,i,r,s){var o,l,c,u,d,f,h,p,m,g,v,y=M.get(e);if(y){for(i.handler&&(i=(o=i).handler,s=o.selector),i.guid||(i.guid=w.guid++),(u=y.events)||(u=y.events={}),(l=y.handle)||((l=y.handle=function(e){return typeof w===a||e&&w.event.triggered===e.type?t:w.event.dispatch.apply(l.elem,arguments)}).elem=e),d=(n=(n||"").match(C)||[""]).length;d--;)m=v=(c=V.exec(n[d])||[])[1],g=(c[2]||"").split(".").sort(),m&&(h=w.event.special[m]||{},m=(s?h.delegateType:h.bindType)||m,h=w.event.special[m]||{},f=w.extend({type:m,origType:v,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:g.join(".")},o),(p=u[m])||((p=u[m]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,g,l)||e.addEventListener&&e.addEventListener(m,l,!1)),h.add&&(h.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,f):p.push(f),w.event.global[m]=!0);e=null}},remove:function(e,t,n,i,a){var r,s,o,l,c,u,d,f,h,p,m,g=M.hasData(e)&&M.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(C)||[""]).length;c--;)if(h=m=(o=V.exec(t[c])||[])[1],p=(o[2]||"").split(".").sort(),h){for(d=w.event.special[h]||{},f=l[h=(i?d.delegateType:d.bindType)||h]||[],o=o[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)u=f[r],!a&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(f.splice(r,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||w.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)w.event.remove(e,h+t[c],n,i,!0);w.isEmptyObject(l)&&(delete g.handle,M.remove(e,"events"))}},trigger:function(n,i,a,r){var o,l,c,u,d,f,h,p=[a||s],m=y.call(n,"type")?n.type:n,g=y.call(n,"namespace")?n.namespace.split("."):[];if(l=c=a=a||s,3!==a.nodeType&&8!==a.nodeType&&!B.test(m+w.event.triggered)&&(m.indexOf(".")>=0&&(m=(g=m.split(".")).shift(),g.sort()),d=0>m.indexOf(":")&&"on"+m,(n=n[w.expando]?n:new w.Event(m,"object"==typeof n&&n)).isTrigger=r?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=a),i=null==i?[n]:w.makeArray(i,[n]),h=w.event.special[m]||{},r||!h.trigger||!1!==h.trigger.apply(a,i))){if(!r&&!h.noBubble&&!w.isWindow(a)){for(u=h.delegateType||m,B.test(u+m)||(l=l.parentNode);l;l=l.parentNode)p.push(l),c=l;c===(a.ownerDocument||s)&&p.push(c.defaultView||c.parentWindow||e)}for(o=0;(l=p[o++])&&!n.isPropagationStopped();)n.type=o>1?u:h.bindType||m,(f=(M.get(l,"events")||{})[n.type]&&M.get(l,"handle"))&&f.apply(l,i),(f=d&&l[d])&&w.acceptData(l)&&f.apply&&!1===f.apply(l,i)&&n.preventDefault();return n.type=m,r||n.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),i)||!w.acceptData(a)||d&&w.isFunction(a[m])&&!w.isWindow(a)&&((c=a[d])&&(a[d]=null),w.event.triggered=m,a[m](),w.event.triggered=t,c&&(a[d]=c)),n.result}},dispatch:function(e){e=w.event.fix(e);var n,i,a,r,s,o=[],l=m.call(arguments),c=(M.get(this,"events")||{})[e.type]||[],u=w.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=w.event.handlers.call(this,e,c),n=0;(r=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,(a=((w.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))!==t&&!1===(e.result=a)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,a,r,s,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==e.type){for(a=[],i=0;l>i;i++)a[r=(s=n[i]).selector+" "]===t&&(a[r]=s.needsContext?w(r,this).index(c)>=0:w.find(r,this,null,[c]).length),a[r]&&a.push(s);a.length&&o.push({elem:c,handlers:a})}return n.length>l&&o.push({elem:this,handlers:n.slice(l)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,a,r,o=n.button;return null==e.pageX&&null!=n.clientX&&(a=(i=e.target.ownerDocument||s).documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[w.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=R.test(a)?this.mouseHooks:P.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new w.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=s),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==J()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===J()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&w.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?w.event.trigger(a,null,t):w.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},w.Event=function(e,n){return this instanceof w.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?W:U):this.type=e,n&&w.extend(this,n),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0,t):new w.Event(e,n)},w.Event.prototype={isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=W,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=W,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=W,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,a=e.handleObj;return(!i||i!==this&&!w.contains(this,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){0==n++&&s.addEventListener(e,i,!0)},teardown:function(){0==--n&&s.removeEventListener(e,i,!0)}}}),w.fn.extend({on:function(e,n,i,a,r){var s,o;if("object"==typeof e){for(o in"string"!=typeof n&&(i=i||n,n=t),e)this.on(o,n,i,e[o],r);return this}if(null==i&&null==a?(a=n,i=n=t):null==a&&("string"==typeof n?(a=i,i=t):(a=i,i=n,n=t)),!1===a)a=U;else if(!a)return this;return 1===r&&(s=a,(a=function(e){return w().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),this.each(function(){w.event.add(this,e,a,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,w(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(!1===n||"function"==typeof n)&&(i=n,n=t),!1===i&&(i=U),this.each(function(){w.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?w.event.trigger(e,n,i,!0):t}});var X=/^.[^:#\[\.,]*$/,G=/^(?:parents|prev(?:Until|All))/,Y=w.expr.match.needsContext,Q={children:!0,contents:!0,next:!0,prev:!0};function K(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function Z(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(X.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return g.call(t,e)>=0!==n})}w.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;a>t;t++)if(w.contains(i[t],this))return!0}));for(t=0;a>t;t++)w.find(e,i[t],n);return(n=this.pushStack(a>1?w.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(w.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(Z(this,e||[],!0))},filter:function(e){return this.pushStack(Z(this,e||[],!1))},is:function(e){return!!Z(this,"string"==typeof e&&Y.test(e)?w(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,a=this.length,r=[],s=Y.test(e)||"string"!=typeof e?w(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?w.unique(r):r)},index:function(e){return e?"string"==typeof e?g.call(w(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),i=w.merge(this.get(),n);return this.pushStack(w.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return K(e,"nextSibling")},prev:function(e){return K(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return e.contentDocument||w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,i){var a=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=w.filter(i,a)),this.length>1&&(Q[e]||w.unique(a),G.test(e)&&a.reverse()),this.pushStack(a)}}),w.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var a=[],r=i!==t;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(i))break;a.push(e)}return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,ie=/<(?:script|style|link)/i,ae=/^(?:checkbox|radio)$/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(e,t){return w.nodeName(e,"table")&&w.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function de(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=e.length,i=0;n>i;i++)M.set(e[i],"globalEval",!t||M.get(t[i],"globalEval"))}function pe(e,t){var n,i,a,r,s,o,l,c;if(1===t.nodeType){if(M.hasData(e)&&(r=M.access(e),s=M.set(t,r),c=r.events))for(a in delete s.handle,s.events={},c)for(n=0,i=c[a].length;i>n;n++)w.event.add(t,a,c[a][n]);A.hasData(e)&&(o=A.access(e),l=w.extend({},o),A.set(t,l))}}function me(e,n){var i=e.getElementsByTagName?e.getElementsByTagName(n||"*"):e.querySelectorAll?e.querySelectorAll(n||"*"):[];return n===t||n&&w.nodeName(e,n)?w.merge([e],i):i}function ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ae.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}ce.optgroup=ce.option,ce.tbody=ce.tfoot=ce.colgroup=ce.caption=ce.thead,ce.th=ce.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ue(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ue(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?w.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||w.cleanData(me(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&he(me(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},i=0,a=this.length;if(e===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!ie.test(e)&&!ce[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;a>i;i++)1===(n=this[i]||{}).nodeType&&(w.cleanData(me(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],a=e[t++];a&&(i&&i.parentNode!==a&&(i=this.nextSibling),w(this).remove(),a.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=h.apply([],e);var i,a,r,s,o,l,c=0,u=this.length,d=this,f=u-1,p=e[0],m=w.isFunction(p);if(m||!(1>=u||"string"!=typeof p||w.support.checkClone)&&re.test(p))return this.each(function(i){var a=d.eq(i);m&&(e[0]=p.call(this,i,a.html())),a.domManip(e,t,n)});if(u&&(a=(i=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this)).firstChild,1===i.childNodes.length&&(i=a),a)){for(s=(r=w.map(me(i,"script"),de)).length;u>c;c++)o=i,c!==f&&(o=w.clone(o,!0,!0),s&&w.merge(r,me(o,"script"))),t.call(this[c],o,c);if(s)for(l=r[r.length-1].ownerDocument,w.map(r,fe),c=0;s>c;c++)o=r[c],se.test(o.type||"")&&!M.access(o,"globalEval")&&w.contains(l,o)&&(o.src?w._evalUrl(o.src):w.globalEval(o.textContent.replace(le,"")))}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,i=[],a=w(e),r=a.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),w(a[s])[t](n),p.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var i,a,r,s,o=e.cloneNode(!0),l=w.contains(e.ownerDocument,e);if(!(w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(s=me(o),i=0,a=(r=me(e)).length;a>i;i++)ge(r[i],s[i]);if(t)if(n)for(r=r||me(e),s=s||me(o),i=0,a=r.length;a>i;i++)pe(r[i],s[i]);else pe(e,o);return(s=me(o,"script")).length>0&&he(s,!l&&me(e,"script")),o},buildFragment:function(e,t,n,i){for(var a,r,s,o,l,c,u=0,d=e.length,f=t.createDocumentFragment(),h=[];d>u;u++)if((a=e[u])||0===a)if("object"===w.type(a))w.merge(h,a.nodeType?[a]:a);else if(ne.test(a)){for(r=r||f.appendChild(t.createElement("div")),s=(te.exec(a)||["",""])[1].toLowerCase(),o=ce[s]||ce._default,r.innerHTML=o[1]+a.replace(ee,"<$1></$2>")+o[2],c=o[0];c--;)r=r.lastChild;w.merge(h,r.childNodes),(r=f.firstChild).textContent=""}else h.push(t.createTextNode(a));for(f.textContent="",u=0;a=h[u++];)if((!i||-1===w.inArray(a,i))&&(l=w.contains(a.ownerDocument,a),r=me(f.appendChild(a),"script"),l&&he(r),n))for(c=0;a=r[c++];)se.test(a.type||"")&&n.push(a);return f},cleanData:function(e){for(var n,i,a,r,s,o,l=w.event.special,c=0;(i=e[c])!==t;c++){if(I.accepts(i)&&((s=i[M.expando])&&(n=M.cache[s]))){if((a=Object.keys(n.events||{})).length)for(o=0;(r=a[o])!==t;o++)l[r]?w.event.remove(i,r):w.removeEvent(i,r,n.handle);M.cache[s]&&delete M.cache[s]}delete A.cache[i[A.expando]]}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),w.fn.extend({wrapAll:function(e){var t;return w.isFunction(e)?this.each(function(t){w(this).wrapAll(e.call(this,t))}):(this[0]&&(t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var ve,ye,be=/^(none|table(?!-c[ea]).+)/,we=/^margin/,xe=RegExp("^("+x+")(.*)$","i"),Ce=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Se=RegExp("^([+-])=("+x+")","i"),Fe={BODY:"block"},ke={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:0,fontWeight:400},$e=["Top","Right","Bottom","Left"],De=["Webkit","O","Moz","ms"];function Te(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=De.length;a--;)if((t=De[a]+n)in e)return t;return i}function ze(e,t){return e=t||e,"none"===w.css(e,"display")||!w.contains(e.ownerDocument,e)}function Ae(t){return e.getComputedStyle(t,null)}function Me(e,t){for(var n,i,a,r=[],s=0,o=e.length;o>s;s++)(i=e[s]).style&&(r[s]=M.get(i,"olddisplay"),n=i.style.display,t?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&ze(i)&&(r[s]=M.access(i,"olddisplay",Le(i.nodeName)))):r[s]||(a=ze(i),(n&&"none"!==n||!a)&&M.set(i,"olddisplay",a?n:w.css(i,"display"))));for(s=0;o>s;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[s]||"":"none"));return e}function Ne(e,t,n){var i=xe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Oe(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>r;r+=2)"margin"===n&&(s+=w.css(e,n+$e[r],!0,a)),i?("content"===n&&(s-=w.css(e,"padding"+$e[r],!0,a)),"margin"!==n&&(s-=w.css(e,"border"+$e[r]+"Width",!0,a))):(s+=w.css(e,"padding"+$e[r],!0,a),"padding"!==n&&(s+=w.css(e,"border"+$e[r]+"Width",!0,a)));return s}function Ie(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=Ae(e),s=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,r);if(0>=a||null==a){if((0>(a=ve(e,t,r))||null==a)&&(a=e.style[t]),Ce.test(a))return a;i=s&&(w.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+Oe(e,t,n||(s?"border":"content"),i,r)+"px"}function Le(e){var t=s,n=Fe[e];return n||("none"!==(n=_e(e,t))&&n||((t=((ye=(ye||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||ye[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=_e(e,t),ye.detach()),Fe[e]=n),n}function _e(e,t){var n=w(t.createElement(e)).appendTo(t.body),i=w.css(n[0],"display");return n.remove(),i}w.fn.extend({css:function(e,n){return w.access(this,function(e,n,i){var a,r,s={},o=0;if(w.isArray(n)){for(a=Ae(e),r=n.length;r>o;o++)s[n[o]]=w.css(e,n[o],!1,a);return s}return i!==t?w.style(e,n,i):w.css(e,n)},e,n,arguments.length>1)},show:function(){return Me(this,!0)},hide:function(){return Me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,l=w.camelCase(n),c=e.style;return n=w.cssProps[l]||(w.cssProps[l]=Te(c,l)),o=w.cssHooks[n]||w.cssHooks[l],i===t?o&&"get"in o&&(r=o.get(e,!1,a))!==t?r:c[n]:("string"===(s=typeof i)&&(r=Se.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(w.css(e,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||w.cssNumber[l]||(i+="px"),w.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,a))===t||(c[n]=i)),t)}},css:function(e,n,i,a){var r,s,o,l=w.camelCase(n);return n=w.cssProps[l]||(w.cssProps[l]=Te(e.style,l)),(o=w.cssHooks[n]||w.cssHooks[l])&&"get"in o&&(r=o.get(e,!0,i)),r===t&&(r=ve(e,n,a)),"normal"===r&&n in Ee&&(r=Ee[n]),""===i||i?(s=parseFloat(r),!0===i||w.isNumeric(s)?s||0:r):r}}),ve=function(e,n,i){var a,r,s,o=i||Ae(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||w.contains(e.ownerDocument,e)||(l=w.style(e,n)),Ce.test(l)&&we.test(n)&&(a=c.width,r=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=a,c.minWidth=r,c.maxWidth=s)),l},w.each(["height","width"],function(e,n){w.cssHooks[n]={get:function(e,i,a){return i?0===e.offsetWidth&&be.test(w.css(e,"display"))?w.swap(e,ke,function(){return Ie(e,n,a)}):Ie(e,n,a):t},set:function(e,t,i){var a=i&&Ae(e);return Ne(0,t,i?Oe(e,n,i,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,a),a):0)}}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,n){return n?w.swap(e,{display:"inline-block"},ve,[e,"marginRight"]):t}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,n){w.cssHooks[n]={get:function(e,i){return i?(i=ve(e,n),Ce.test(i)?w(e).position()[n]+"px":i):t}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+$e[i]+t]=r[i]||r[i-2]||r[0];return a}},we.test(e)||(w.cssHooks[e+t].set=Ne)});var je=/%20/g,He=/\[\]$/,qe=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;function Be(e,t,n,i){var a;if(w.isArray(t))w.each(t,function(t,a){n||He.test(e)?i(e,a):Be(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==w.type(t))i(e,t);else for(a in t)Be(e+"["+a+"]",t[a],n,i)}w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Re.test(this.nodeName)&&!Pe.test(e)&&(this.checked||!ae.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(qe,"\r\n")}}):{name:t.name,value:n.replace(qe,"\r\n")}}).get()}}),w.param=function(e,n){var i,a=[],r=function(e,t){t=w.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){r(this.name,this.value)});else for(i in e)Be(i,e[i],n,r);return a.join("&").replace(je,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ve,We,Ue=w.now(),Je=/\?/,Xe=/#.*$/,Ge=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qe=/^(?:GET|HEAD)$/,Ke=/^\/\//,Ze=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,et=w.fn.load,tt={},nt={},it="*/".concat("*");try{We=r.href}catch(e){(We=s.createElement("a")).href="",We=We.href}function at(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(C)||[];if(w.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function rt(e,n,i,a){var r={},s=e===nt;function o(l){var c;return r[l]=!0,w.each(e[l]||[],function(e,l){var u=l(n,i,a);return"string"!=typeof u||s||r[u]?s?!(c=u):t:(n.dataTypes.unshift(u),o(u),!1)}),c}return o(n.dataTypes[0])||!r["*"]&&o("*")}function st(e,n){var i,a,r=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((r[i]?e:a||(a={}))[i]=n[i]);return a&&w.extend(!0,e,a),e}Ve=Ze.exec(We.toLowerCase())||[],w.fn.load=function(e,n,i){if("string"!=typeof e&&et)return et.apply(this,arguments);var a,r,s,o=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l),e=e.slice(0,l)),w.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(r="POST"),o.length>0&&w.ajax({url:e,type:r,dataType:"html",data:n}).done(function(e){s=arguments,o.html(a?w("<div>").append(w.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){o.each(i,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:We,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ve[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":it,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?st(st(e,w.ajaxSettings),t):st(w.ajaxSettings,e)},ajaxPrefilter:at(tt),ajaxTransport:at(nt),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,r,s,o,l,c,u,d=w.ajaxSetup({},n),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?w(f):w.event,p=w.Deferred(),m=w.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=Ye.exec(r);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),F(0,t),this}};if(p.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,d.url=((e||d.url||We)+"").replace(Xe,"").replace(Ke,Ve[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=w.trim(d.dataType||"*").toLowerCase().match(C)||[""],null==d.crossDomain&&(l=Ze.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Ve[1]&&l[2]===Ve[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ve[3]||("http:"===Ve[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),rt(tt,d,n,S),2===b)return S;for(u in(c=d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Qe.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Je.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ge.test(a)?a.replace(Ge,"$1_="+Ue++):a+(Je.test(a)?"&":"?")+"_="+Ue++)),d.ifModified&&(w.lastModified[a]&&S.setRequestHeader("If-Modified-Since",w.lastModified[a]),w.etag[a]&&S.setRequestHeader("If-None-Match",w.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+it+"; q=0.01":""):d.accepts["*"]),d.headers)S.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(!1===d.beforeSend.call(f,S,d)||2===b))return S.abort();for(u in x="abort",{success:1,error:1,complete:1})S[u](d[u]);if(i=rt(nt,d,n,S)){S.readyState=1,c&&h.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(o=setTimeout(function(){S.abort("timeout")},d.timeout));try{b=1,i.send(v,F)}catch(e){if(!(2>b))throw e;F(-1,e)}}else F(-1,"No Transport");function F(e,n,s,l){var u,v,y,x,C,F=n;2!==b&&(b=2,o&&clearTimeout(o),i=t,r=l||"",S.readyState=e>0?4:0,u=e>=200&&300>e||304===e,s&&(x=function(e,n,i){var a,r,s,o,l=e.contents,c=e.dataTypes;for(;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(r in l)if(l[r]&&l[r].test(a)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||e.converters[r+" "+c[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==c[0]&&c.unshift(s),i[s]):t}(d,S,s)),x=function(e,t,n,i){var a,r,s,o,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];r=u.shift();for(;r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(a in c)if((o=a.split(" "))[1]===r&&(s=c[l+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[a]:!0!==c[a]&&(r=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(d,x,S,u),u?(d.ifModified&&((C=S.getResponseHeader("Last-Modified"))&&(w.lastModified[a]=C),(C=S.getResponseHeader("etag"))&&(w.etag[a]=C)),204===e||"HEAD"===d.type?F="nocontent":304===e?F="notmodified":(F=x.state,v=x.data,u=!(y=x.error))):(y=F,(e||!F)&&(F="error",0>e&&(e=0))),S.status=e,S.statusText=(n||F)+"",u?p.resolveWith(f,[v,F,S]):p.rejectWith(f,[S,F,y]),S.statusCode(g),g=t,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[S,d,u?v:y]),m.fireWith(f,[S,F]),c&&(h.trigger("ajaxComplete",[S,d]),--w.active||w.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,i,a,r){return w.isFunction(i)&&(r=r||a,a=i,i=t),w.ajax({url:e,type:n,dataType:r,data:i,success:a})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,a){t=w("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var ot=[],lt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ot.pop()||w.expando+"_"+Ue++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,i,a){var r,s,o,l=!1!==n.jsonp&&(lt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(lt,"$1"+r):!1!==n.jsonp&&(n.url+=(Je.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return o||w.error(r+" was not called"),o[0]},n.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},a.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,ot.push(r)),o&&w.isFunction(s)&&s(o[0]),o=s=t}),"script"):t}),w.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var ct=w.ajaxSettings.xhr(),ut={0:200,1223:204},dt=0,ft={};e.ActiveXObject&&w(e).on("unload",function(){for(var e in ft)ft[e]();ft=t}),w.support.cors=!!ct&&"withCredentials"in ct,w.support.ajax=ct=!!ct,w.ajaxTransport(function(e){var n;return w.support.cors||ct&&!e.crossDomain?{send:function(i,a){var r,s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];for(r in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)o.setRequestHeader(r,i[r]);n=function(e){return function(){n&&(delete ft[s],n=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?a(o.status||404,o.statusText):a(ut[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:t,o.getAllResponseHeaders()))}},o.onload=n(),o.onerror=n("error"),n=ft[s=dt++]=n("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){n&&n()}}:t});var ht,pt,mt=/^(?:toggle|show|hide)$/,gt=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[function(e,n,i){var a,r,s,o,l,c,u=this,d={},f=e.style,h=e.nodeType&&ze(e),p=M.get(e,"fxshow");for(a in i.queue||(null==(l=w._queueHooks(e,"fx")).unqueued&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,u.always(function(){u.always(function(){l.unqueued--,w.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in n||"width"in n)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===w.css(e,"display")&&"none"===w.css(e,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),n)if(r=n[a],mt.exec(r)){if(delete n[a],s=s||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!p||p[a]===t)continue;h=!0}d[a]=p&&p[a]||w.style(e,a)}if(!w.isEmptyObject(d))for(a in p?"hidden"in p&&(h=p.hidden):p=M.access(e,"fxshow",{}),s&&(p.hidden=!h),h?w(e).show():u.done(function(){w(e).hide()}),u.done(function(){var t;for(t in M.remove(e,"fxshow"),d)w.style(e,t,d[t])}),d)o=xt(h?p[a]:0,a,u),a in p||(p[a]=o.start,h&&(o.end=o.start,o.start="width"===a||"height"===a?1:0))}],bt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=gt.exec(t),r=a&&a[3]||(w.cssNumber[e]?"":"px"),s=(w.cssNumber[e]||"px"!==r&&+i)&&gt.exec(w.css(n.elem,e)),o=1,l=20;if(s&&s[3]!==r){r=r||s[3],a=a||[],s=+i||1;do{s/=o=o||".5",w.style(n.elem,e,s+r)}while(o!==(o=n.cur()/i)&&1!==o&&--l)}return a&&(s=n.start=+s||+i||0,n.unit=r,n.end=a[1]?s+(a[1]+1)*a[2]:+a[2]),n}]};function wt(){return setTimeout(function(){ht=t}),ht=w.now()}function xt(e,t,n){for(var i,a=(bt[t]||[]).concat(bt["*"]),r=0,s=a.length;s>r;r++)if(i=a[r].call(n,t,e))return i}function Ct(e,t,n){var i,a,r=0,s=yt.length,o=w.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=ht||wt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),r=0,s=c.tweens.length;s>r;r++)c.tweens[r].run(i);return o.notifyWith(e,[c,i,n]),1>i&&s?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ht||wt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,a,r,s;for(n in e)if(i=w.camelCase(n),a=t[i],r=e[n],w.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(s=w.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=a);else t[i]=a}(u,c.opts.specialEasing);s>r;r++)if(i=yt[r].call(c,e,u,c.opts))return i;return w.map(u,xt,c),w.isFunction(c.opts.start)&&c.opts.start.call(e,c),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function St(e,t,n,i,a){return new St.prototype.init(e,t,n,i,a)}function Ft(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)i["margin"+(n=$e[a])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function kt(e){return w.isWindow(e)?e:9===e.nodeType&&e.defaultView}w.Animation=w.extend(Ct,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),w.Tween=St,St.prototype={constructor:St,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(w.cssNumber[n]?"":"px")},cur:function(){var e=St.propHooks[this.prop];return e&&e.get?e.get(this):St.propHooks._default.get(this)},run:function(e){var t,n=St.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):St.propHooks._default.set(this),this}},St.prototype.init.prototype=St.prototype,St.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},St.propHooks.scrollTop=St.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ft(t,!0),e,i,a)}}),w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=w.isEmptyObject(e),r=w.speed(t,n,i),s=function(){var t=Ct(this,w.extend({},e),r);(a||M.get(this,"finish"))&&t.stop(!0)};return s.finish=s,a||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=w.timers,s=M.get(this);if(n)s[n]&&s[n].stop&&a(s[n]);else for(n in s)s[n]&&s[n].stop&&vt.test(n)&&a(s[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=M.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=w.timers,s=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),w.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};return i.duration=w.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){w.isFunction(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=St.prototype.init,w.fx.tick=function(){var e,n=w.timers,i=0;for(ht=w.now();n.length>i;i++)(e=n[i])()||n[i]!==e||n.splice(i--,1);n.length||w.fx.stop(),ht=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){pt||(pt=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(pt),pt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,i,r=this[0],s={top:0,left:0},o=r&&r.ownerDocument;return o?(n=o.documentElement,w.contains(n,r)?(typeof r.getBoundingClientRect!==a&&(s=r.getBoundingClientRect()),i=kt(o),{top:s.top+i.pageYOffset-n.clientTop,left:s.left+i.pageXOffset-n.clientLeft}):s):void 0},w.offset={setOffset:function(e,t,n){var i,a,r,s,o,l,c=w.css(e,"position"),u=w(e),d={};"static"===c&&(e.style.position="relative"),o=u.offset(),r=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(i=u.position()).top,a=i.left):(s=parseFloat(r)||0,a=parseFloat(l)||0),w.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+a),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===w.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(i=e.offset()),i.top+=w.css(e[0],"borderTopWidth",!0),i.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-w.css(n,"marginTop",!0),left:t.left-i.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||o;e&&!w.nodeName(e,"html")&&"static"===w.css(e,"position");)e=e.offsetParent;return e||o})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,i){var a="pageYOffset"===i;w.fn[n]=function(r){return w.access(this,function(n,r,s){var o=kt(n);return s===t?o?o[i]:n[r]:(o?o.scrollTo(a?e.pageXOffset:s,a?s:e.pageYOffset):n[r]=s,t)},n,r,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,a){w.fn[a]=function(a,r){var s=arguments.length&&(i||"boolean"!=typeof a),o=i||(!0===a||!0===r?"margin":"border");return w.access(this,function(n,i,a){var r;return w.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):a===t?w.css(n,i,o):w.style(n,i,a,o)},n,s?a:t,s,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=w:"function"==typeof define&&define.amd&&define("jquery",[],function(){return w}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=w)}(window),function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return!n.settings.submitHandler||(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var a=e.data(i.form,"validator").settings,r=a.rules,s=e.validator.staticRules(i);switch(t){case"add":e.extend(s,e.validator.normalizeRule(n)),delete s.messages,r[i.name]=s,n.messages&&(a.messages[i.name]=e.extend(a.messages[i.name],n.messages));break;case"remove":if(!n)return delete r[i.name],s;var o={};return e.each(n.split(/\s/),function(e,t){o[t]=s[t],delete s[t]}),o}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){t[i]=n})});var n=this.settings.rules;function i(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=!1!==this.check(t);return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){for(var n in e.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in n||!t.objectLength(e(this).rules()))&&(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),a=!1,r=this.elementValue(t);for(var s in i){var o={method:s,parameters:i[s]};try{if("dependency-mismatch"===(n=e.validator.methods[s].call(this,r,t,o.parameters))){a=!0;continue}if(a=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,o),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",e),e}}if(!a)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),a=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):a.test(i)&&(i=e.validator.format(i.replace(a,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t),a=i[0].getAttribute("type");for(var r in e.validator.methods){var s;"required"===r?(""===(s=i.get(0).getAttribute(r))&&(s=!0),s=!!s):s=i.attr(r),/min|max/.test(r)&&(null===a||/number|range|text/.test(a))&&(s=Number(s)),s?n[r]=s:a===r&&"range"!==a&&(n[r]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,a={},r=e(t);for(n in e.validator.methods)void 0!==(i=r.data("rule-"+n.toLowerCase()))&&(a[n]=i);return a},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,a){if(!1!==a){if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!e(a.depends,n.form).length;break;case"function":r=a.depends.call(n,n)}r?t[i]=void 0===a.param||a.param:delete t[i]}}else delete t[i]}),e.each(t,function(i,a){t[i]=e.isFunction(a)?a(n):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var a=e(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;for(var n=0,i=0,a=!1,r=(e=e.replace(/\D/g,"")).length-1;r>=0;r--){var s=e.charAt(r);i=parseInt(s,10),a&&(i*=2)>9&&(i-=9),n+=i,a=!a}return n%10==0},minlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a>=i},maxlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a<=i},rangelength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||a>=i[0]&&a<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var a=e(i);return this.settings.onfocusout&&a.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===a.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var a=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t)return a.valid;a.old=t;var r=this;this.startRequest(n);var s={};return s[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,success:function(i){r.settings.messages[n.name].remote=a.originalMessage;var s=!0===i||"true"===i;if(s){var o=r.formSubmitted;r.prepareElement(n),r.formSubmitted=o,r.successList.push(n),delete r.invalid[n.name],r.showErrors()}else{var l={},c=i||r.defaultMessage(n,"remote");l[n.name]=a.message=e.isFunction(c)?c(t):c,r.invalid[n.name]=!0,r.showErrors(l)}a.valid=s,r.stopRequest(n,s)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var a=e.port;"abort"===e.mode&&(t[a]&&t[a].abort(),t[a]=i)});else{var n=e.ajax;e.ajax=function(i){var a=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===a?(t[r]&&t[r].abort(),t[r]=n.apply(this,arguments),t[r]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var a=e(n.target);if(a.is(t))return i.apply(a,arguments)})}})}(jQuery);var html5_audiotypes={mp3:"audio/mpeg",mp4:"audio/mp4",ogg:"audio/ogg",wav:"audio/wav"};function createsoundbite(e){var t=document.createElement("audio");if(t.canPlayType){for(var n=0;n<arguments.length;++n){var i=document.createElement("source");i.setAttribute("src",arguments[n]),arguments[n].match(/\.(\w+)$/i)&&i.setAttribute("type",html5_audiotypes[RegExp.$1]),t.appendChild(i)}return t.load(),t.playclip=function(){try{t.pause(),t.play().then(function(){}).catch(function(e){})}catch(e){}},t}return{playclip:function(){throw new Error("Your browser doesn't support HTML5 audio unfortunately")}}}var mouseoversoundFile=!1;mouseoversound={playclip:function(){mouseoversoundFile||(mouseoversoundFile=createsoundbite("https://www.czater.pl/assets/sounds/whistle.ogg","https://www.czater.pl/assets/sounds/whistle.mp3")),mouseoversoundFile.playclip()}};var newConversationSoundFile=!1;newConversationSound={playclip:function(){newConversationSoundFile||(newConversationSoundFile=createsoundbite("https://www.czater.pl/assets/sounds/ding-dong.ogg","https://www.czater.pl/assets/sounds/ding-dong.mp3")),newConversationSoundFile.playclip()}};var messageSoundFile=!1;function sendGoogleAnalyticsEvent(e,t,n,i){var a={category:e,action:t,label:n,value:i};window.parent.postMessage(JSON.stringify({type:"googleAnalytics",value:a}),"*")}function sendSyneriseEvent(e,t,n){var i={type:"syneriseEvent",value:{kind:e,name:t,params:n}};window.parent.postMessage(JSON.stringify(i),"*")}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function changeTimeCaptions(){$(".timeCaption").each(function(){var e=$(this).data("time"),t=Math.floor((Date.now()-e)/6e4);if(t<1)$(this).html(momentAgo);else{var n=Math.floor(t/60),i=t%60,a="";n>0&&(a+=n+" godz. i "),i>0&&(a+=i+" min."),$(this).html(a)}})}function internet(e){if(e.internet)$("#noInternet").hide(),$(".noInternet").remove(),$("#paymentChatOff").is(":visible")?$("#inputMessage").hide():($("#inputMessage").show(),""===$("#inputMessage").val()?($("#pressSend").hide(),$("#addImageToConversation").show()):($("#pressSend").show(),$("#addImageToConversation").hide()));else if($("#noInternet").show(),$("#inputMessage").hide(),$("#addImageToConversation").hide(),0===$(".noInternet").length){var t=$('<div class="czater-centerMessage clearfix chatMessage noInternet"><div class="chat-body clearfix" style="position:relative;"><div class="header"><strong class="primary-font" style="display:none"> System </strong></div><p>'+noInternet+"<br>"+connecting+"</p></div> </div>");$("div.czater-messages").append(t)}}function ConsultantWriting(e){e.isWriting?$("span.czater-incomingMessage.isWritting").removeClass("hidden"):$("span.czater-incomingMessage.isWritting").addClass("hidden")}function doAllegroReferer(e){allegroReferer=e}function loadFacebookScript(e,t,n){var i,a=e.getElementsByTagName(t)[0];e.getElementById(n)||((i=e.createElement(t)).id=n,i.src="//connect.facebook.net/en_US/all.js#xfbml=1&version=v2.9&appId="+facebookAppId,a.parentNode.insertBefore(i,a))}function onSignIn(e){if(clickedDataByGoogle){var t=e.getBasicProfile();$.ajax({type:"POST",url:"/chat/saveClientGoogle",data:{adminHash:chatId,clientHash:chat_client_cookie,id:t.getId()},dataType:"json"}).done(function(){$('.formClientData input[name="name"]').val(t.getName()),$('.formClientData input[name="email"]').val(t.getEmail()),$(".czater-clientdata").click()})}}function loadFacebookAndGoogle(){loadFacebookScript(document,"script","facebook-jssdk");var e=document.createElement("script");$("head").append(e),e.src="https://apis.google.com/js/platform.js"}function getData(){FB.api("/me?fields=name,email",function(e){$('.formClientData input[name="name"]').val(e.name),$('.formClientData input[name="email"]').val(e.email),$.ajax({type:"POST",url:"/chat/saveClientFacebook",data:{adminHash:chatId,clientHash:chat_client_cookie,id:e.id},dataType:"json"}).done(function(){$(".czater-clientdata").click()})})}function loginByFacebook(){FB.login(function(){getData()},{scope:"email"})}messageSound={playclip:function(){messageSoundFile||(messageSoundFile=createsoundbite("https://www.czater.pl/assets/sounds/message.ogg","https://www.czater.pl/assets/sounds/message.mp3")),messageSoundFile.playclip()}},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},writable:!0,configurable:!0}),$(document).on("click","#dataByFacebook",function(){facebookAfterClick()}),$(document).on("click","#dataByGoogle",function(){clickedDataByGoogle=!0}),$(document).on("click",".czater-rate-conv",function(){$("#marking").fadeIn(),$(this).hide()}),$(document).on("click","a.logo",function(e){var t=$("#inputMessage");if(t&&0!==t.length)return t.val().length>0?(e.preventDefault(),!1):void 0});var facebookAfterClick=function(){loginByFacebook()};function ShowClientData(){!shownClientData&&czaterClientData.canDisplaySmartScreen()?(shownClientData=!0,$("#myData").text(my_data_header),sendGoogleAnalyticsEvent("dataAsk"),2==layout||0==layout||1==layout?$(".czater-myData-button")[0].click():(loadFacebookAndGoogle(),$(".czater-myData").fadeIn())):!document.querySelector(".alert_consultant_busy_msg")&&my_data_header&&$("div.czater-messages").append(createMessage("system",null,my_data_header,"left",null,void 0," alert_consultant_busy_msg"))}function checkIfAnyDataExists(){var e=!0;return $("#smartScreen input.form-control").each(function(){var t=$(this).attr("type");if($(this).attr("required")&&("checkbox"===t&&!$(this).prop("checked")||"text"===t&&0===$(this).val().length))return e=!1,!1}),e}function message(e){var t=e.rows[0];void 0!==t&&(("client"===e.rows[0].whoWrote||e.rows[1]&&"client"===e.rows[1].whoWrote)&&$("#smartScreen").length>0&&1==smartScreen&&czaterClientData.canDisplaySmartScreen()&&0==czaterConversation.clientMessagesCount()&&(loadFacebookAndGoogle(),czaterViews.changeView("myData")),window.parent.postMessage(JSON.stringify({type:"hideReturnButton",value:{}}),"*"),conversationOngoing=!0,imagePaste=!1,e.rows.forEach(function(e){"consultant"===(t=e).whoWrote&&messageSound.playclip();var n="right";if("consultant"===t.whoWrote&&(n="left"),""!==t.message.trim()){var i=t.translated&&"consultant"===t.whoWrote?t.translated:t.message;$("div.czater-messages").append(createMessage(t.whoWrote,t.MessageTime,doLinks(i),n,null,t.idMessage))}if("24px"!=$("div.czater-messages").css("bottom")&&window.navigator.userAgent.match("Edge/")){var a=$("div.czater-messages").height(),r=$("div.czater-messages").css("max-height");a>(r=r.replace("px",""))-24&&$("div.czater-messages").css("bottom","24px")}}),changeTimeCaptions(),$("#inputMessage").show(),$("#welcomeMessage").remove(),""===$("#inputMessage").val().trim()&&$("#inputMessage").val(""),$("div.czater-window").attr("firstMessage","0"),$("div.czater-messages").scrollTop($("div.czater-messages")[0].scrollHeight))}function getUserData(e){e.name&&czaterClientData.getField("name")&&czaterClientData.setField("name",e.name,e.nameReadOnly?1:0),e.email&&czaterClientData.getField("email")&&czaterClientData.setField("email",e.email,e.emailReadOnly?1:0)}function ConsultantBeginConversation(e,t){newConversationSound.playclip(),czaterViews.changeView("conversation"),firstMessage=!1,conversationOngoing=!0}function checkSectionAndHideAttach(e){1364==e?$("#addImage").hide():$("#addImage").show()}function EndConversation(e){conversationOngoing=!1,firstMessage=!0,$("div.czater-window").attr("firstMessage","1"),$("span.czater-incomingMessage.isWritting").addClass("hidden"),$("#inputMessage").hide(),$("#pressSend").hide(),$("#addImageToConversation").hide();var t=$('<div class="czater-centerMessage clearfix superEnded chatMessage conversationClosed"><div class="chat-body clearfix" style="position:relative;"><div class="header"><strong class="primary-font" style="display:none"> System </strong></div><p>'+endConv+'</p></div><div class="timeCaption" data-time="'+e.timestamp+'"></div>   </div>');$("div.czater-messages").append(t),1==isMarkingOn&&(t=$('<div style="background:none;box-shadow:initial!important" class="czater-centerMessage clearfix superMarking chatMessage conversationClosed"><span class="czater-myData-button-close czater-button czater-rate-conv">'+rate_conv+"</span></div>"),$("div.czater-messages").append(t)),$("div.czater-messages").scrollTop($("div.czater-messages")[0].scrollHeight),!czaterSections.checkIfSectionForced()&&czaterSections.checkIfSectionsExist()&&window.parent.postMessage(JSON.stringify({type:"showReturnButton",value:""}),"*")}function allowConversation(e){allConsOccupiedCheck&&(allConsOccupied=!1,$("div.czater-messages").append(createMessage("system",null,someConsFree,"left",null)))}function disallowConversation(e){if(!allConsOccupiedCheck){allConsOccupiedCheck=!0;var t=allConsOccupied;e.waitingConversations&&(t=t+" "+e.waitingConversations),$("div.czater-messages").append(createMessage("system",null,t,"left",null))}}function surveyThanksMessage(e){$("div.czater-messages").append(createMessage("system",null,e,"center",null))}function selectAnySectionAvatar(e){if(void 0!==e){var t=[],n="";e.sectionsOnline&&$.each(e.sectionsOnline,function(e,n){void 0!==n.avatar&&""!==n.avatar&&null!==n.avatar&&t.push('<div class="czater-layout-avatar"><img src="'+static_url+"assets/uploads/avatar/thumb/"+(window.devicePixelRatio>1.5?n.avatar.big:n.avatar.small)+'" alt=""></div>')}),n=t.length>0?t[Math.floor(Math.random()*t.length)]:e.avatar,$('ul.sections-online li[data-id="0"] a .czater-layout-avatar').html(n)}}function conjugation(e,t,n,i,a){var r=parseInt(t);return 0===r?e+a:1===r?e+n:r%100>=10&&r%100<=20?e+a:r%10>=2&&r%10<=4?e+i:e+a}function checkConvExists(){$(".czater-messages > div").length>0?$("#welcomeMessage").fadeOut():$("#welcomeMessage").fadeIn()}function addFlags(){$('link[href="'+flagURL+'"]').length||$('<link href="'+flagURL+'" rel="stylesheet">').appendTo("head")}function doLinks(e){return/\.(?:jpe?g|gif|png|bmp)$/gim.test(e)?'<a target="_blank" href="'+e+'"><img class="chatPicture" style="display:block;" src="'+e+'" alt="'+base_url+'" /></a>':e.replace(/(((http|https)\:\/\/)|((http|https)\:\/\/www\.)|(www\.))([a-zA-Z0-9\#\-\+\.\/_,\?\=\&\;\%\*]+)/gi,'<a target="_blank" href="$&">$&</a>').replace(/((([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,}))/gi,'<a target="_blank" href="mailto:$1">$1</a>').replace(new RegExp('href="www.',"g"),'href="http://www.').replace(new RegExp("\n","g"),"<br>")}function updateMessage(e,t,n){n?$('.chatMessage[data-id-message="'+e+'"] .chat-body').text(n):$('.chatMessage[data-id-message="'+e+'"] .chat-body').text(t)}function createMessage(e,t,n,i,a,r,s){void 0===s&&(s="");var o=$('<div class="czater-'+i+"Message clearfix chatMessage"+s+'" data-id-message="'+r+'">'),l=$('<div class="chat-body clearfix" style="position:relative; ">');if(l.html(n),""!==n.trim()&&o.append(l),null!==t){var c=$('<div class="timeCaption" data-time="'+1e3*t+'">');o.append(c)}var u=$('<div class="messageSeen"></div>');if(o.append(u),1==alwaysOnline&&!isNowOnline&&!a){var d=!1;$('.czater-myData input[type="text"]').each(function(){0!==$(this).val().length||(d=!0)}),d&&($(".czater-myData .czater-myData-button-close").hide(),loadFacebookAndGoogle(),czaterViews.changeView("myData"))}return o}function submitClientData(e){var t=$(".formClientData"),n={};t.find(".form-control").each(function(){var e=$(this),t=e.attr("name"),i=e.val();n[t]=i});var i={name:$('.formClientData input[name="name"]').val(),email:$('.formClientData input[name="email"]').val()};sendSyneriseEvent(1,"czater_saved-client-data",i),sendGoogleAnalyticsEvent("dataSave",void 0,void 0,i),czaterClientData.syncDataObject(n),sendClientData(n,function(){t.find(".czater-myData-button-close").show(),t.find(".czater-myData-button-close").click()})}function sendClientData(e,t){$.ajax({type:"POST",url:"/chat/changeClientName/"+chatId+"/"+chat_client_cookie,data:e}).done(function(){t(),window.parent.postMessage(JSON.stringify({type:"userSaveData",value:e}),"*")})}var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},czaterStyles={sheet:null,cssProperties:["color","border-color","background-color"],getCssProperties:function(){return this.cssProperties},createSheet:function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),this.sheet=e.sheet,e.sheet},addCSSRule:function(e,t,n){void 0===n&&(n=this.sheet.cssRules.length);try{"insertRule"in this.sheet?this.sheet.insertRule(e+"{"+t+"}",n):"addRule"in this.sheet&&this.sheet.addRule(e,t,n)}catch(e){console.log(e)}},createRules:function(e){for(var t=0;t<czaterStyles.getCssProperties().length;t++)czaterStyles.addCSSRule("[cz-v-"+e+"-"+czaterStyles.getCssProperties()[t]+'="primary-color"]',czaterStyles.getCssProperties()[t]+":"+colors.primaryColor+" !important"),czaterStyles.addCSSRule("[cz-v-"+e+"-"+czaterStyles.getCssProperties()[t]+'="secondary-color"]',czaterStyles.getCssProperties()[t]+":"+colors.secondaryColor+" !important"),czaterStyles.addCSSRule("[cz-v-"+e+"-"+czaterStyles.getCssProperties()[t]+'="button-color"]',czaterStyles.getCssProperties()[t]+":"+colors.buttonColor+" !important"),czaterStyles.addCSSRule("[cz-v-"+e+"-"+czaterStyles.getCssProperties()[t]+'="text-color"]',czaterStyles.getCssProperties()[t]+":"+colors.textColor+" !important"),czaterStyles.addCSSRule("[cz-v-"+e+"-"+czaterStyles.getCssProperties()[t]+'="text-button-color"]',czaterStyles.getCssProperties()[t]+":"+colors.textButtonColor+" !important")}},czaterViews={currentView:"",previousView:"",viewChangeAllowed:!0,views:{sections:{signalsEnter:[],signalsLeave:[],selector:".czater-sections"},survey:{signalsEnter:[],signalsLeave:[],selector:"#survey"},myData:{signalsEnter:[],signalsLeave:[],selector:".czater-myData"},settings:{signalsEnter:[],signalsLeave:[],selector:".czater-settings"},conversation:{signalsEnter:[],signalsLeave:[],selector:"#czater-mainContener"},formOffline:{signalsEnter:[],signalsLeave:[],selector:".czater-form-offline"},messageOfflineSend:{signalsEnter:[],signalsLeave:[],selector:"#message-offline-send"},marking:{signalsEnter:[],signalsLeave:[],selector:"#marking"}},allowViewChange:function(){this.viewChangeAllowed=!0},disallowViewChange:function(){this.viewChangeAllowed=!1},checkIfChangeViewAllowed:function(){return this.viewChangeAllowed},addSignal:function(e,t,n){this.views[e]&&this.views[e][t]&&this.views[e][t].push(n)},triggerEnterSignals:function(e){if(this.views[e]&&this.views[e].signalsEnter.length>0)for(var t=0;t<this.views[e].signalsEnter.length;t++)this.views[e].signalsEnter[t]()},triggerLeaveSignals:function(e){if(this.views[e]&&this.views[e].signalsLeave.length>0)for(var t=0;t<this.views[e].signalsLeave.length;t++)this.views[e].signalsLeave[t]()},getCurrentViewName:function(){return this.currentView},getPreviousView:function(){return""!==this.previousView&&this.previousView},setCurrentView:function(e){this.currentView=e},setPreviousView:function(e){this.previousView=e},returnToPreviousView:function(){var e=this.getPreviousView();e?this.changeView(e):this.changeView("")},stopChangingView:function(){var e=this;Object.keys(e.views).forEach(function(t){$(e.views[t].selector).stop(),$(e.views[t].selector).css("display","none")})},changeView:function(e){var t=this;t.checkIfChangeViewAllowed()&&Object.keys(t.views).forEach(function(n){n!=e?"none"!=$(t.views[n].selector).css("display")&&(t.triggerLeaveSignals(n),t.setPreviousView(n),$(t.views[n].selector).fadeOut("fast")):(t.setCurrentView(e),t.triggerEnterSignals(e),$(t.views[n].selector).fadeIn("fast",function(){$(this).css("display","block")}))})}},czaterSections={sectionPicked:!1,sectionForced:!1,currentSection:0,currentSectionHash:"",noSectionStatus:!1,sections:{online:{},offline:{}},setNoSectionsStatus:function(e){this.noSectionStatus=e},getNoSectionStatus:function(){return this.noSectionStatus},setSectionPicked:function(e){this.sectionPicked=e},checkIfSectionPicked:function(){return this.sectionPicked},getCurrentSection:function(){return this.currentSection},getCurrentSectionHash:function(){return this.currentSectionHash},getDepartment:function(){return{id:this.getCurrentSection(),hash:this.getCurrentSectionHash()}},setCurrentSection:function(e){this.currentSection=e},setCurrentSectionHash:function(e){this.currentSectionHash=e},checkIfSectionForced:function(){return this.sectionForced},setSectionForced:function(e){this.sectionForced=e},setSectionsOnline:function(e){this.sections.online=e},setSectionsOffline:function(e){this.sections.offline=e},getSectionsOnline:function(){return this.sections.online},getSectionsOffline:function(){return this.sections.offline},checkIfSectionsExist:function(){return Object.keys(this.sections.online).length>0||Object.keys(this.sections.offline).length>0},checkIfSectionOnline:function(e){return!!this.sections.online[e]},checkIfSectionOffline:function(e){return!!this.sections.offline[e]},createSection:function(e,t){var n,i,a,r;switch(n='<li data-id="'+t.idSection+'" data-hash="'+t.hash+'">',r='<div class="czater-layout-name">'+t.section+"</div>",a='<div class="czater-layout-avatar"></div>',2!=layout&&3!=layout&&0!=layout||void 0===t.avatar||""==t.avatar||null==t.avatar||(a='<div class="czater-layout-avatar"><img src="'+static_url+"assets/uploads/avatar/thumb/"+(window.devicePixelRatio>1.5?t.avatar.big:t.avatar.small)+'" alt=""></div>'),"</a></li>",e){case"online":i='<a data-status="online" data-id="'+t.idSection+'" class="czater-section-link" href="#">',s='<div style="color: rgb(43, 166, 43)" id="czater-section-status-'+t.idSection+'" class="czater-layout-status czater-statusDot"> </div>',2!=layout&&3!=layout&&0!=layout||(s='<div id="czater-section-status-"'+t.idSection+'" class="czater-layout-status">online</div>');break;case"offline":i='<a data-status="offline" data-id="'+t.idSection+'" class="czater-section-link" href="#">';var s='<div style="color: rgb(255, 0, 0)" id="czater-section-status-'+t.idSection+'" class="czater-layout-status czater-statusDot"> </div>';2!=layout&&3!=layout&&0!=layout||(s='<div class="czater-layout-status">offline</div>')}return n+i+a+r+s+"</a></li>"},createSections:function(){var e=this;$("ul.sections-offline").empty(),$("ul.sections-online").empty(),e.sections.offline&&$.each(e.sections.offline,function(t,n){$("ul.sections-offline").append(e.createSection("offline",n))}),e.sections.online&&$.each(e.sections.online,function(t,n){var i=forceOffline?"offline":"online";$("ul.sections-online").append(e.createSection(i,n))})},clickSelectedSection:function(e){$(".czater-messages .chatMessage").length>0||setTimeout(function(){null!==e&&$('.czater-section-link[data-id="'+e+'"]').length>0&&$('.czater-section-link[data-id="'+e+'"]')[0].click()},350)},changeSectionWithUrl:function(e){var t=this,n=!1,i=Object.assign({},t.getSectionsOnline(),t.getSectionsOffline()),a=0;$.each(i,function(i,r){t.checkReferer(e,r.referer)&&r.referer.length>a&&(n=r,a=r.referer.length)}),n?(czaterConversation.isConversationOngoing()||$('.czater-section-link[data-id="'+n.idSection+'"]').click(),t.setSectionForced(!0),t.setSectionPicked(!0),t.setCurrentSection(n.idSection),t.setCurrentSectionHash(n.hash),window.parent.postMessage(JSON.stringify({type:"hideReturnButton",value:""}),"*")):(t.setSectionForced(!1),"myData"!=czaterViews.getCurrentViewName()&&"settings"!=czaterViews.getCurrentViewName()&&czaterConversation.decideChatState())},prepareHost:function(e){return 0===(e=e.trim()).indexOf("http://")&&(e=e.substring(7)),0===e.indexOf("https://")&&(e=e.substring(8)),0===e.indexOf("www.")&&(e=e.substring(4)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e},checkReferer:function(e,t){var n=this;void 0===e&&(e=""),void 0===t&&(t="");var i=!1;return t.split("|").forEach(function(t){""!==t.trim()&&n.prepareHost(e).indexOf(n.prepareHost(t))>-1&&(i=!0)}),i}},czaterConversation={isConversationOngoing:function(){return!(firstMessage&&!conversationOngoing)},isTriggerWelcomeMessageDisplayed:function(){return"block"==$("#welcomeMessage").css("display")},clientMessagesCount:function(){return $(".czater-rightMessage").length},decideChatState:function(){this.isConversationOngoing()?czaterViews.changeView("conversation"):!czaterSections.checkIfSectionPicked()&&czaterSections.checkIfSectionsExist()||!forceOffline?czaterSections.checkIfSectionsExist()&&czaterSections.checkIfSectionPicked()?czaterSections.checkIfSectionOnline(czaterSections.getCurrentSection())?2==smartScreen&&czaterClientData.canDisplaySmartScreen()&&!czaterSections.checkIfSectionOffline(czaterSections.getCurrentSection())?($("#smartScreen .czater-myData-button-close").hide(),loadFacebookAndGoogle(),czaterViews.changeView("myData"),addFlags()):czaterViews.changeView("conversation"):czaterViews.changeView("formOffline"):czaterSections.checkIfSectionsExist()&&!czaterSections.checkIfSectionPicked()?czaterViews.changeView("sections"):czaterSections.checkIfSectionsExist()||("online"==czaterSections.getNoSectionStatus()?2==smartScreen&&czaterClientData.canDisplaySmartScreen()&&!czaterSections.checkIfSectionOffline(czaterSections.getCurrentSection())?($("#smartScreen .czater-myData-button-close").hide(),loadFacebookAndGoogle(),czaterViews.changeView("myData"),addFlags()):czaterViews.changeView("conversation"):czaterViews.changeView("formOffline")):czaterViews.changeView("formOffline"),czaterSections.checkIfSectionForced()||!czaterSections.checkIfSectionsExist()||this.isConversationOngoing()||"sections"==czaterViews.getCurrentViewName()?window.parent.postMessage(JSON.stringify({type:"hideReturnButton",value:""}),"*"):window.parent.postMessage(JSON.stringify({type:"showReturnButton",value:""}),"*")}},czaterClientData={basicFields:{},customFields:{},countryCodes:{},checkIsFill:function(){var e=this,t=Object.keys(e.basicFields),n=Object.keys(e.customFields),i=!1;return t.forEach(function(t){"0"!=e.basicFields[t].status&&"offline"!=e.basicFields[t].status&&""!==e.basicFields[t].value&&(i=!0)}),n.forEach(function(t){"rodo"!=e.customFields[t].type&&"0"!=e.customFields[t].status&&"offline"!=e.customFields[t].status&&""!==e.customFields[t].value&&null!=e.customFields[t].value&&"null"!=e.customFields[t].value&&(i=!0)}),i},setBasicFields:function(e){this.basicFields=e},setCustomFields:function(e){this.customFields=e},setContryCodes:function(e){this.countryCodes=e},syncDataObject:function(e){var t=this,n=Object.keys(t.basicFields),i=Object.keys(t.customFields);n.forEach(function(n){e[n]&&(t.basicFields[n].value=e[n])}),i.forEach(function(n){e[t.customFields[n].idCustomField]&&("enum"==t.customFields[n].type?t.customFields[n].idEnumField=e[t.customFields[n].idCustomField]:t.customFields[n].value=e[t.customFields[n].idCustomField])})},getField:function(e){return this.basicFields[e]?this.basicFields[e]:this.customFields[e]?this.customFields[e]:void 0},setField:function(e,t,n){this.basicFields[e]?(this.basicFields[e].value=t,$(this.basicFields[e].domElement).find("input").val(t),n&&$(this.basicFields[e].domElement).find("input").prop("readonly",!0)):this.customFields[e]&&(this.customFields[e].value=t,$(this.basicFields[e].domElement).find("input").val(t),n&&$(this.basicFields[e].domElement).find("input").prop("readonly",!0))},syncDataObject:function(e){var t=this,n=Object.keys(t.basicFields),i=Object.keys(t.customFields);n.forEach(function(n){e[n]&&(t.basicFields[n].value=e[n])}),i.forEach(function(n){e[t.customFields[n].idCustomField]&&("enum"==t.customFields[n].type?t.customFields[n].idEnumField=e[t.customFields[n].idCustomField]:t.customFields[n].value=e[t.customFields[n].idCustomField])})},getFields:function(){return Object.assign({},this.basicFields,this.customFields)},canDisplaySmartScreen:function(){var e=this.getFields();for(var t in e){var n=e[t];if(void 0!==n.status&&("1"===n.status||"online"===n.status?n.online=1:n.online=0),(1==n.required||1==n.obligatory)&&("enum"===n.type&&null===n.idEnumField||"enum"!==n.type&&(0==n.value||!n.value))&&1==n.online&&"label"!==n.type)return!0}return!1},createClientDataForm:function(){var e=this,t=Object.keys(e.basicFields);Object.keys(e.customFields);t.forEach(function(t){var n;if("null"!=e.basicFields[t].value&&null!=e.basicFields[t].value||(e.basicFields[t].value=""),"phone"==t){(n=document.createElement("div")).setAttribute("class","client-data-input-field phone-inputs");var i=document.createElement("div");i.setAttribute("class","phone-inputs-holder"),i.setAttribute("style","display: none"),Object.keys(e.countryCodes).forEach(function(t){var n=document.createElement("div");n.setAttribute("class","phone-inputs-div"),n.setAttribute("data-value",e.countryCodes[t].code);var a=document.createElement("i");a.setAttribute("class","flag flag-"+t.toLocaleLowerCase()),n.appendChild(a),n.appendChild(document.createTextNode(e.countryCodes[t].name+" +"+e.countryCodes[t].code)),i.appendChild(n)});var a=document.createElement("div");a.setAttribute("class","phone-inputs-control form-control"),a.setAttribute("data-value",e.basicFields[t].directional);var r=document.createElement("div");r.setAttribute("class","phone-inputs-box");var s=document.createElement("input");s.setAttribute("class","phone-inputs-number client-data-input form-control"),s.setAttribute("id","client-data-"+t),s.setAttribute("value",e.basicFields[t].value),s.setAttribute("name","phone_number"),s.setAttribute("type","text"),1==e.basicFields[t].obligatory&&s.setAttribute("required",!0);var o=document.createElement("input");o.setAttribute("class","phone-inputs-selected form-control"),o.setAttribute("type","hidden"),o.setAttribute("name",t),o.setAttribute("value",e.basicFields[t].directional+"-"+e.basicFields[t].value),1==e.basicFields[t].obligatory&&o.setAttribute("required",!0),(l=document.createElement("label")).setAttribute("class","client-data-placeholder"),l.setAttribute("for","client-data-"+t),l.appendChild(document.createTextNode(e.basicFields[t].text)),r.appendChild(s),r.appendChild(l),r.appendChild(o),n.appendChild(i),n.appendChild(a),n.appendChild(r),e.basicFields[t].domElement=n}else{(n=document.createElement("div")).setAttribute("class","client-data-input-field");var l,c=document.createElement("input");c.setAttribute("id","client-data-"+t),c.setAttribute("type","text"),c.setAttribute("value",e.basicFields[t].value),c.setAttribute("name",t),c.setAttribute("class","client-data-input form-control"),1==e.basicFields[t].obligatory&&c.setAttribute("required",!0),(l=document.createElement("label")).setAttribute("class","client-data-placeholder"),l.setAttribute("for","client-data-"+t),l.appendChild(document.createTextNode(e.basicFields[t].text)),n.appendChild(c),n.appendChild(l),e.basicFields[t].domElement=n}}),e.customFields.forEach(function(e,t){var n,i;"number"==e.type&&((n=document.createElement("div")).setAttribute("class","client-data-input-field"),(l=document.createElement("input")).setAttribute("id","client-data"+e.idCustomField),l.setAttribute("name",e.idCustomField),l.setAttribute("value",e.value),l.setAttribute("class","client-data-input form-control"),"1"==e.required&&l.setAttribute("required",!0),(u=document.createElement("label")).setAttribute("class","client-data-placeholder"),u.setAttribute("for","client-data-"+e.idCustomField),u.appendChild(document.createTextNode(e.name)),l.setAttribute("type","number"),n.appendChild(l),n.appendChild(u),e.domElement=n);if("enum"==e.type){(n=document.createElement("div")).setAttribute("class","client-data-input-field");var a=document.createElement("select");a.setAttribute("class","client-data-input form-control"),a.setAttribute("id","client-data-"+e.idCustomField),a.setAttribute("name",e.idCustomField),"1"==e.required&&a.setAttribute("required",!0);var r=document.createElement("option");r.setAttribute("value",""),r.appendChild(document.createTextNode("-----")),a.appendChild(r);for(var s=0;s<e.enums.length;s++){var o=document.createElement("option");o.setAttribute("value",e.enums[s].idEnumField),e.enums[s].idEnumField==e.idEnumField&&o.setAttribute("selected","selected"),o.appendChild(document.createTextNode(e.enums[s].value)),a.appendChild(o)}(u=document.createElement("label")).setAttribute("class","client-data-placeholder"),u.setAttribute("for","client-data-"+e.idCustomField),u.innerHTML=e.name,n.appendChild(a),n.appendChild(u),e.domElement=n}if("boolean"==e.type||"rodo"==e.type){n=document.createElement("label"),"rodo"==e.type?n.setAttribute("class","labelForCheckbox form-control client-data-input-field client-data-rodo-field"):n.setAttribute("class","labelForCheckbox form-control client-data-input-field");var l,c=document.createElement("span");c.setAttribute("class","ssfitcarS"),(l=document.createElement("input")).setAttribute("type","checkbox"),l.setAttribute("id","client-data-"+e.idCustomField),l.setAttribute("name",e.idCustomField),l.setAttribute("value",e.value),l.setAttribute("class","form-control"),"1"==e.value&&l.setAttribute("checked","checked"),"1"==e.required&&l.setAttribute("required",!0);var u,d=document.createElement("i");d.setAttribute("class","ssfitcarI"),(u=document.createElement("label")).setAttribute("class",""),u.setAttribute("for","client-data-"+e.idCustomField),u.innerHTML=e.name,c.appendChild(l),c.appendChild(d),n.appendChild(c),n.appendChild(u),e.domElement=n}"date"==e.type&&((n=document.createElement("div")).setAttribute("class","client-data-input-field"),(l=document.createElement("input")).setAttribute("id","client-data-"+e.idCustomField),l.setAttribute("name",e.idCustomField),i=e.value?(i=new Date(1e3*e.value)).getFullYear()+"-"+("0"+(i.getMonth()+1)).substr(-2,2)+"-"+("0"+i.getDay()).substr(-2,2):"",l.setAttribute("value",i),l.setAttribute("class","client-data-input form-control form-control"),"1"==e.required&&l.setAttribute("required",!0),(u=document.createElement("label")).setAttribute("class","client-data-placeholder"),u.setAttribute("for","client-data-"+e.idCustomField),u.appendChild(document.createTextNode(e.name)),l.setAttribute("type","date"),n.appendChild(l),n.appendChild(u),e.domElement=n);"text"==e.type&&((n=document.createElement("div")).setAttribute("class","client-data-input-field"),(l=document.createElement("input")).setAttribute("id","client-data"+e.idCustomField),l.setAttribute("name",e.idCustomField),null===e.value?l.setAttribute("value",""):l.setAttribute("value",e.value),l.setAttribute("class","client-data-input form-control form-control"),"1"==e.required&&l.setAttribute("required",!0),(u=document.createElement("label")).setAttribute("class","client-data-placeholder"),u.setAttribute("for","client-data-"+e.idCustomField),u.appendChild(document.createTextNode(e.name)),l.setAttribute("type","text"),n.appendChild(l),n.appendChild(u),e.domElement=n);"label"==e.type&&((n=document.createElement("label")).setAttribute("class","form-control"),n.innerHTML=e.name,e.domElement=n)})},addClientFieldsToOffline:function(){var e=this,t=Object.keys(e.basicFields);Object.keys(e.customFields);t.forEach(function(t){"1"==e.basicFields[t].status||"offline"==e.basicFields[t].status?$("#sendEmail .client-data-all-fields").append(e.basicFields[t].domElement):e.basicFields[t].domElement&&$(e.basicFields[t].domElement).remove()}),e.customFields.forEach(function(e){"1"==e.offline?$("#sendEmail .client-data-all-fields").append(e.domElement):e.domElement&&$(e.domElement).remove()})},addClientFieldsToMyData:function(){var e=this,t=Object.keys(e.basicFields);Object.keys(e.customFields);t.forEach(function(t){"1"==e.basicFields[t].status||"online"==e.basicFields[t].status?$(".formClientData .client-data-all-fields").append(e.basicFields[t].domElement):$(e.basicFields[t].domElement).remove()}),e.customFields.forEach(function(e){"1"==e.online?$(".formClientData .client-data-all-fields").append(e.domElement):e.domElement&&$(e.domElement).remove()})},initValidation:function(){$(".formClientData").removeData("validator"),$("#emailForm").removeData("validator"),$(".formClientData").removeData("unobtrusiveValidation"),$("#emailForm").removeData("unobtrusiveValidation");var e={rules:{message:{required:!0,minlength:10},phone_number:{minlength:8,digits:!0},email:{email:!0}},messages:{},errorClass:"help-block",errorElement:"span",submitHandler:function(){},highlight:function(e,t){$(".help-block:visible")[0]&&$(e).is(":checkbox")&&$(".help-block:visible")[0].scrollIntoView({behavior:"smooth"}),$(".help-block:visible")[0]&&$(e).is("textarea")&&$(".help-block:visible")[0].scrollIntoView({behavior:"auto"}),$(e).parent().hasClass("client-data-input-field")?$(e).addClass("wrong"):$(e).parent().parent().hasClass("client-data-input-field")?$(e).parent().addClass("wrong"):$(e).parent().parent().parent().hasClass("client-data-input-field")?$(e).parent().parent().addClass("wrong"):$(e).addClass("wrong")},unhighlight:function(e,t){$(e).parent().hasClass("client-data-input-field")?$(e).removeClass("wrong"):$(e).parent().parent().hasClass("client-data-input-field")?$(e).parent().removeClass("wrong"):$(e).parent().parent().parent().hasClass("client-data-input-field")?$(e).parent().parent().removeClass("wrong"):$(e).removeClass("wrong")},errorPlacement:function(e,t){t.parent().hasClass("client-data-input-field")?e.appendTo(t.parent()):t.parent().parent().hasClass("client-data-input-field")?e.appendTo(t.parent().parent()):t.parent().parent().parent().hasClass("client-data-input-field")?e.appendTo(t.parent().parent().parent()):e.appendTo(t.parent())}};$(".formClientData").length>0&&$(".formClientData").validate(e),$("#sendEmail").length>0&&$("#sendEmail").validate(e)}};function InfoForClient(e,t){e&&e.status&&e.status.lang&&"polish"!==e.status.lang&&($("#logoLangPolish").hide(),$("#logoLangEnglish").show()),ChatVisible=$(document).height();var n="";if(n=(n=-1!=base_url.indexOf("live-chat")?'<svg width="142.14mm" height="30.13mm" version="1.1" viewBox="0 0 142.14 30.13" xmlns="http://www.w3.org/2000/svg">         <g transform="translate(-50.377 -214.62)">          <path d="m71.977 243.62c-5.3374 0-9.6809-3.8605-9.6809-8.6052 0-4.7447 4.3435-8.6052 9.6809-8.6052 5.3374 0 9.6809 3.8605 9.6809 8.6052 0 4.7447-4.3435 8.6052-9.6809 8.6052z" fill="#ffab00" stroke-width="1.0757"/>           <g stroke-width="1.2056">            <path d="m60.021 235.12c0-5.9833 5.4082-10.85 12.056-10.85 1.6661 0 3.255 0.30623 4.7005 0.85958-0.83909-5.9242-6.3956-10.504-13.14-10.504-7.3239 0-13.261 5.3974-13.261 12.056 0 5.7024 4.3606 10.469 10.212 11.723-0.3665-1.0368-0.56783-2.1399-0.56783-3.284z" fill="#ffcf6c"/>           <path d="m81.562 243.89c-2.9211-2.5896-1.8506-5.1586-1.8506-5.1586l-7.0321 2.0097s3.6794 3.7385 8.4559 4.0085z" fill="#ffab00"/>           <path d="m58.816 235.12c0-1.3514 0.26281-2.645 0.72455-3.8578l-6.7524-3.3756s4.9163 6.5511-0.81738 10.891l0.31467 1.1525c2.7439 0 5.0188-1.3659 6.715-2.909-0.11095-0.62087-0.18444-1.2526-0.18444-1.9012z" fill="#ffcf6c"/>          </g>          <text x="91.368187" y="235.88788" fill="#ffab00" font-family="Ubuntu" font-size="19.362px" letter-spacing="0px" stroke-width=".25932" word-spacing="0px" style="line-height:1.25" xml:space="preserve"><tspan x="91.368187" y="235.88788" font-size="19.362px" stroke-width=".25932"><tspan fill="#ffab00" font-family="Ubuntu" font-weight="bold">live-chat</tspan>.<tspan fill="#ffab00" font-family="Ubuntu" font-weight="300">pl</tspan></tspan></text>         </g>        </svg>':-1!=base_url.indexOf("callchat")?'<svg width="159mm" height="28.096mm" version="1.1" viewBox="0 0 159 28.096" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">          <path d="m17.276 0c-8.1777-7.9999e-5 -14.808 6.2895-14.808 14.048 5e-3 2.1062 0.50831 4.1847 1.4738 6.0813l-0.049609-0.04186-3.8928 5.9733 7.2244-1.7219c2.7323 2.4089 6.3222 3.7509 10.052 3.7574 8.1777-2.11e-4 14.807-6.2896 14.807-14.048 4e-5 -7.7584-6.6292-14.048-14.807-14.048zm-5.1217 7.199c0.18366-0.0054 0.42298 0.0381 0.64544 0.23203 0.44492 0.3873 2.3968 2.3399 2.3968 2.3399s0.69402 0.579 0.21549 1.2201c-0.3808 0.51053-1.2594 1.4515-1.3746 1.5751l0.32918 0.62115c0.4418 0.72662 1.2824 2.0037 2.5409 3.0386 0.8493 0.69842 2.2845 1.4636 2.2841 1.463 0.20674-0.19263 1.0652-0.98741 1.5431-1.3446 0.64122-0.47894 1.2196 0.21497 1.2196 0.21497s1.9527 1.9526 2.3404 2.3978c0.38744 0.44532 0.17208 0.95756 0.17208 0.95756-0.6042 0.93511-1.1295 1.904-3.6556 1.9616-2.5815 0.0024-5.2517-2.1355-7.1965-4.2685-1.9417-1.8887-3.7372-4.3278-3.7352-6.6931 0.05815-2.5264 1.0276-3.0519 1.9627-3.6561 0 0 0.12847-0.05406 0.31213-0.059429z" fill="#f1ca7b" stroke-width=".81711"/>          <text x="40.550152" y="20.71978" fill="#f1ca7b" font-family="Ubuntu" font-size="17.639px" letter-spacing="0px" stroke-width=".26458" word-spacing="0px" style="line-height:1.25" xml:space="preserve"><tspan x="40.550152" y="20.71978" fill="#f1ca7b" font-family="Ubuntu" font-size="22.578px" font-weight="bold" stroke-width=".26458">CallChat.pl</tspan></text>         </svg>':e&&e.status&&e.status.lang&&"polish"===e.status.lang?'<svg id="logoLangPolish" width="567.89" height="136.06" version="1.1" viewBox="0 0 567.8877 136.05684" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><defs><clipPath id="clipPath20"><path d="M 0,595.276 H 841.89 V 0 H 0 Z"/></clipPath></defs><g transform="matrix(1.3333 0 0 -1.3333 -277.29 464.87)"><g clip-path="url(%23clipPath20)"><g transform="translate(370.42,276.56)"><path d="m0 0c-1.98-2.101-4.32-3.78-7.02-5.041-2.7-1.259-5.85-1.889-9.45-1.889s-6.81 0.539-9.63 1.62c-2.821 1.08-5.19 2.61-7.11 4.59-1.921 1.979-3.391 4.349-4.41 7.11-1.021 2.759-1.53 5.819-1.53 9.18 0 3.06 0.554 5.954 1.665 8.685 1.109 2.729 2.655 5.115 4.635 7.154 1.98 2.04 4.365 3.66 7.155 4.861 2.79 1.2 5.864 1.8 9.225 1.8 3.42 0 6.539-0.616 9.36-1.845 2.82-1.23 5.22-2.896 7.2-4.995l-6.75-6.84c-1.201 1.38-2.61 2.46-4.23 3.24-1.62 0.779-3.481 1.17-5.58 1.17-2.041 0-3.811-0.375-5.31-1.125-1.5-0.751-2.745-1.725-3.735-2.925-0.99-1.201-1.725-2.61-2.205-4.23-0.481-1.62-0.72-3.271-0.72-4.95 0-1.62 0.239-3.211 0.72-4.77 0.48-1.561 1.215-2.97 2.205-4.23 0.99-1.261 2.235-2.281 3.735-3.061 1.499-0.78 3.269-1.169 5.31-1.169 2.099 0 4.019 0.405 5.76 1.215 1.739 0.81 3.209 1.904 4.41 3.285z" class="afill" fill="#570053"/></g><g transform="translate(373.01,279.08)"><path d="m0 0 21.51 25.2h-20.88v8.91h34.11v-8.28l-22.23-25.29h22.23v-8.64h-34.74z" class="afill" fill="#570053"/></g><g transform="translate(437.9,290.06)"><path d="m0 0c-1.08 0.059-2.13 0.12-3.15 0.18-0.841 0.059-1.725 0.104-2.655 0.135-0.931 0.03-1.725 0.044-2.385 0.044-3.42 0-5.821-0.675-7.2-2.025-1.381-1.35-2.07-2.895-2.07-4.634 0-1.8 0.644-3.211 1.935-4.23 1.289-1.021 3.195-1.53 5.715-1.53 1.26 0 2.475 0.21 3.645 0.63 1.17 0.419 2.205 0.989 3.105 1.71 0.9 0.72 1.634 1.559 2.205 2.52 0.569 0.959 0.855 1.98 0.855 3.059zm0-15.12c-1.14-1.381-2.88-2.61-5.22-3.69-2.34-1.081-4.95-1.62-7.83-1.62-1.741 0-3.465 0.27-5.175 0.81s-3.271 1.364-4.68 2.475c-1.41 1.109-2.551 2.534-3.42 4.275-0.871 1.74-1.305 3.779-1.305 6.12 0 2.399 0.45 4.545 1.35 6.434 0.9 1.891 2.16 3.48 3.78 4.771 1.62 1.29 3.569 2.264 5.85 2.925 2.279 0.659 4.8 0.99 7.56 0.99 0.84 0 1.769-0.016 2.79-0.045 1.02-0.031 2.01-0.076 2.97-0.135 1.08-0.061 2.19-0.121 3.33-0.181v0.991c0 2.1-0.841 3.749-2.52 4.95-1.68 1.2-3.87 1.8-6.57 1.8-3.001 0-5.4-0.391-7.2-1.17-1.8-0.78-3.39-1.621-4.77-2.521l-4.86 7.2c0.84 0.6 1.8 1.216 2.88 1.846 1.08 0.629 2.34 1.199 3.78 1.71 1.44 0.509 3.105 0.93 4.995 1.26 1.89 0.329 4.095 0.495 6.615 0.495 2.7 0 5.144-0.375 7.335-1.125 2.19-0.751 4.064-1.8 5.625-3.15 1.56-1.35 2.759-2.97 3.6-4.861 0.84-1.889 1.26-3.945 1.26-6.164v-28.35h-9.9z" class="afill" fill="#570053"/></g><g transform="translate(457.85,304.55)"><path d="m0 0h-7.2v8.641h7.2v13.679h10.62v-13.679h11.34v-8.641h-11.34v-18.45c0-2.4 0.405-4.245 1.215-5.534 0.81-1.292 2.115-1.936 3.915-1.936 1.68 0 3.016 0.239 4.005 0.72 0.99 0.48 1.936 1.049 2.836 1.71l4.5-6.569c-2.102-1.742-4.172-2.986-6.211-3.736-2.041-0.75-4.32-1.125-6.839-1.125-2.581 0-4.771 0.375-6.571 1.125s-3.256 1.814-4.365 3.195c-1.111 1.38-1.905 3.045-2.385 4.995-0.481 1.949-0.72 4.096-0.72 6.435z" class="afill" fill="#570053"/></g><g transform="translate(514.64,296.54)"><path d="m0 0c0 1.079-0.211 2.159-0.63 3.24-0.421 1.08-1.036 2.055-1.845 2.925-0.81 0.869-1.846 1.589-3.105 2.16-1.261 0.57-2.7 0.854-4.32 0.854-1.741 0-3.285-0.284-4.635-0.854-1.35-0.571-2.475-1.291-3.375-2.16-0.9-0.87-1.591-1.845-2.07-2.925-0.481-1.081-0.72-2.161-0.72-3.24zm10.35-19.441c-0.18-0.18-0.675-0.675-1.485-1.484-0.811-0.81-1.981-1.666-3.511-2.566-1.529-0.9-3.48-1.709-5.85-2.43-2.37-0.72-5.205-1.079-8.504-1.079-3.361 0-6.421 0.57-9.18 1.709-2.761 1.14-5.116 2.715-7.066 4.725-1.95 2.011-3.45 4.425-4.5 7.245s-1.575 5.941-1.575 9.361c0 3.119 0.525 6.014 1.575 8.685 1.05 2.668 2.521 4.995 4.411 6.975 1.889 1.979 4.139 3.539 6.75 4.679 2.61 1.139 5.503 1.711 8.685 1.711 3.839 0 7.095-0.706 9.765-2.115 2.669-1.411 4.814-3.255 6.435-5.535 1.62-2.281 2.79-4.861 3.509-7.74 0.72-2.88 1.081-5.821 1.081-8.821v-1.529h-31.5c0-1.561 0.344-2.971 1.035-4.23 0.689-1.261 1.589-2.341 2.7-3.241 1.109-0.9 2.37-1.59 3.779-2.07 1.41-0.48 2.805-0.719 4.186-0.719 2.039 0 3.825 0.194 5.355 0.585 1.53 0.389 2.834 0.839 3.914 1.35 1.081 0.509 1.965 1.049 2.656 1.62 0.689 0.569 1.214 1.034 1.575 1.395z" class="afill" fill="#570053"/></g><g transform="translate(530.46,313.19)"><path d="m0 0h10.17l0.271-5.31c0.479 0.599 1.093 1.26 1.844 1.98 0.75 0.72 1.634 1.379 2.656 1.98 1.019 0.599 2.204 1.109 3.554 1.529s2.894 0.63 4.635 0.63c1.02 0 1.936-0.06 2.745-0.18 0.81-0.12 1.634-0.33 2.475-0.629l-2.159-9.991c-0.721 0.3-1.456 0.509-2.206 0.631-0.751 0.119-1.635 0.18-2.655 0.18-1.439 0-2.821-0.241-4.139-0.72-1.321-0.482-2.461-1.171-3.421-2.071s-1.725-1.979-2.295-3.239c-0.57-1.261-0.855-2.67-0.855-4.231v-22.769h-10.62z" class="afill" fill="#570053"/></g><g transform="translate(585.89,281.33)"><path d="m0 0c2.1-1.741 5.279-2.61 9.54-2.61 1.919 0 3.629 0.374 5.13 1.125 1.499 0.749 2.775 1.74 3.825 2.97 1.049 1.229 1.845 2.624 2.385 4.185 0.54 1.56 0.81 3.18 0.81 4.86 0 1.8-0.195 3.479-0.585 5.04-0.391 1.56-1.021 2.925-1.89 4.095-0.87 1.17-1.995 2.099-3.375 2.79-1.381 0.689-3.091 1.035-5.13 1.035-1.62 0-3.091-0.346-4.41-1.035-1.32-0.691-2.445-1.575-3.375-2.655-0.931-1.08-1.651-2.266-2.16-3.555-0.51-1.291-0.765-2.536-0.765-3.735zm-10.53 31.86h10.26l0.27-4.77c0.54 0.599 1.215 1.229 2.025 1.89 0.81 0.659 1.769 1.26 2.88 1.8 1.109 0.54 2.37 0.99 3.78 1.35 1.409 0.36 2.984 0.54 4.725 0.54 3.24 0 6.044-0.63 8.415-1.89 2.37-1.26 4.334-2.925 5.895-4.995 1.56-2.07 2.73-4.426 3.51-7.065 0.779-2.641 1.17-5.37 1.17-8.19 0-3.3-0.481-6.12-1.44-8.46-0.96-2.34-2.16-4.381-3.6-6.12-2.401-2.88-5.026-4.891-7.875-6.03-2.851-1.139-5.776-1.71-8.775-1.71-1.381 0-2.565 0.06-3.555 0.18-0.99 0.121-1.89 0.285-2.7 0.495-0.81 0.211-1.561 0.45-2.25 0.72-0.691 0.27-1.426 0.554-2.205 0.855v-18.81h-10.53z" class="afill" fill="#ffc800"/></g><path d="m623.29 331.01h10.62v-60.03h-10.62z" class="afill" fill="#ffc800"/><g transform="translate(245.47,284.11)"><path d="m0 0c7.472-7.472 19.587-7.472 27.059 0l11.275-11.275c-13.699-13.699-35.91-13.699-49.609 0s-13.699 35.91 0 49.609 35.91 13.699 49.609 0l-11.275-11.275c-7.472 7.473-19.587 7.473-27.059 0-7.472-7.472-7.472-19.587 0-27.059m13.53 64.553c-28.18 0-51.024-22.844-51.024-51.023 0-10.804 3.367-20.816 9.096-29.065l-9.096-21.959 21.959 9.096c8.249-5.729 18.261-9.096 29.065-9.096 28.179 0 51.023 22.844 51.023 51.024 0 28.179-22.844 51.023-51.023 51.023" class="afill" fill="#ffc800"/></g><g transform="translate(568.12,277.19)"><path d="m0 0c0 3.769-3.055 6.824-6.824 6.824s-6.824-3.055-6.824-6.824 3.055-6.824 6.824-6.824 6.824 3.055 6.824 6.824" class="afill" fill="#ffc800"/></g></g></g></svg>':'<svg id="logoLangEnglish" width="172.33mm" height="37.367mm" version="1.1" viewBox="0 0 172.32579 37.367058" xmlns="http://www.w3.org/2000/svg"><g transform="translate(402.01 -69.418)"><g transform="matrix(.36617 0 0 -.36617 -388.28 93.056)"><path d="m0 0c7.472-7.472 19.587-7.472 27.059 0l11.275-11.275c-13.699-13.699-35.91-13.699-49.609 0s-13.699 35.91 0 49.609 35.91 13.699 49.609 0l-11.275-11.275c-7.472 7.473-19.587 7.473-27.059 0-7.472-7.472-7.472-19.587 0-27.059m13.53 64.553c-28.18 0-51.024-22.844-51.024-51.023 0-10.804 3.367-20.816 9.096-29.065l-9.096-21.959 21.959 9.096c8.249-5.729 18.261-9.096 29.065-9.096 28.179 0 51.023 22.844 51.023 51.024 0 28.179-22.844 51.023-51.023 51.023" class="safill" fill="#570053"/></g><g transform="matrix(.35278 0 0 -.35278 -342.79 95.237)"><path d="m0 0c-1.98-2.101-4.32-3.78-7.02-5.041-2.7-1.259-5.85-1.889-9.45-1.889s-6.81 0.539-9.63 1.62c-2.821 1.08-5.19 2.61-7.11 4.59-1.921 1.979-3.391 4.349-4.41 7.11-1.021 2.759-1.53 5.819-1.53 9.18 0 3.06 0.554 5.954 1.665 8.685 1.109 2.729 2.655 5.115 4.635 7.154 1.98 2.04 4.365 3.66 7.155 4.861 2.79 1.2 5.864 1.8 9.225 1.8 3.42 0 6.539-0.616 9.36-1.845 2.82-1.23 5.22-2.896 7.2-4.995l-6.75-6.84c-1.201 1.38-2.61 2.46-4.23 3.24-1.62 0.779-3.481 1.17-5.58 1.17-2.041 0-3.811-0.375-5.31-1.125-1.5-0.751-2.745-1.725-3.735-2.925-0.99-1.201-1.725-2.61-2.205-4.23-0.481-1.62-0.72-3.271-0.72-4.95 0-1.62 0.239-3.211 0.72-4.77 0.48-1.561 1.215-2.97 2.205-4.23 0.99-1.261 2.235-2.281 3.735-3.061 1.499-0.78 3.269-1.169 5.31-1.169 2.099 0 4.019 0.405 5.76 1.215 1.739 0.81 3.209 1.904 4.41 3.285z" class="safill" fill="#570053"/></g><g transform="matrix(.35278 0 0 -.35278 -315.49 90.569)"><path d="m0 0c-1.08 0.059-2.13 0.12-3.15 0.18-0.841 0.059-1.725 0.104-2.655 0.135-0.931 0.03-1.725 0.044-2.385 0.044-3.42 0-5.821-0.675-7.2-2.025-1.381-1.35-2.07-2.895-2.07-4.634 0-1.8 0.644-3.211 1.935-4.23 1.289-1.021 3.195-1.53 5.715-1.53 1.26 0 2.475 0.21 3.645 0.63 1.17 0.419 2.205 0.989 3.105 1.71 0.9 0.72 1.634 1.559 2.205 2.52 0.569 0.959 0.855 1.98 0.855 3.059zm0-15.12c-1.14-1.381-2.88-2.61-5.22-3.69-2.34-1.081-4.95-1.62-7.83-1.62-1.741 0-3.465 0.27-5.175 0.81s-3.271 1.364-4.68 2.475c-1.41 1.109-2.551 2.534-3.42 4.275-0.871 1.74-1.305 3.779-1.305 6.12 0 2.399 0.45 4.545 1.35 6.434 0.9 1.891 2.16 3.48 3.78 4.771 1.62 1.29 3.569 2.264 5.85 2.925 2.279 0.659 4.8 0.99 7.56 0.99 0.84 0 1.769-0.016 2.79-0.045 1.02-0.031 2.01-0.076 2.97-0.135 1.08-0.061 2.19-0.121 3.33-0.181v0.991c0 2.1-0.841 3.749-2.52 4.95-1.68 1.2-3.87 1.8-6.57 1.8-3.001 0-5.4-0.391-7.2-1.17-1.8-0.78-3.39-1.621-4.77-2.521l-4.86 7.2c0.84 0.6 1.8 1.216 2.88 1.846 1.08 0.629 2.34 1.199 3.78 1.71 1.44 0.509 3.105 0.93 4.995 1.26 1.89 0.329 4.095 0.495 6.615 0.495 2.7 0 5.144-0.375 7.335-1.125 2.19-0.751 4.064-1.8 5.625-3.15 1.56-1.35 2.759-2.97 3.6-4.861 0.84-1.889 1.26-3.945 1.26-6.164v-28.35h-9.9z" class="safill" fill="#570053"/></g><g transform="matrix(.35278 0 0 -.35278 -307.7 85.268)"><path d="m0 0h-7.2v8.641h7.2v13.679h10.62v-13.679h11.34v-8.641h-11.34v-18.45c0-2.4 0.405-4.245 1.215-5.534 0.81-1.292 2.115-1.936 3.915-1.936 1.68 0 3.016 0.239 4.005 0.72 0.99 0.48 1.936 1.049 2.836 1.71l4.5-6.569c-2.102-1.742-4.172-2.986-6.211-3.736-2.041-0.75-4.32-1.125-6.839-1.125-2.581 0-4.771 0.375-6.571 1.125s-3.256 1.814-4.365 3.195c-1.111 1.38-1.905 3.045-2.385 4.995-0.481 1.949-0.72 4.096-0.72 6.435z" class="safill" fill="#570053"/></g><g transform="matrix(.35278 0 0 -.35278 -287.76 88.188)"><path d="m0 0c0 1.079-0.211 2.159-0.63 3.24-0.421 1.08-1.036 2.055-1.845 2.925-0.81 0.869-1.846 1.589-3.105 2.16-1.261 0.57-2.7 0.854-4.32 0.854-1.741 0-3.285-0.284-4.635-0.854-1.35-0.571-2.475-1.291-3.375-2.16-0.9-0.87-1.591-1.845-2.07-2.925-0.481-1.081-0.72-2.161-0.72-3.24zm10.35-19.441c-0.18-0.18-0.675-0.675-1.485-1.484-0.811-0.81-1.981-1.666-3.511-2.566-1.529-0.9-3.48-1.709-5.85-2.43-2.37-0.72-5.205-1.079-8.504-1.079-3.361 0-6.421 0.57-9.18 1.709-2.761 1.14-5.116 2.715-7.066 4.725-1.95 2.011-3.45 4.425-4.5 7.245s-1.575 5.941-1.575 9.361c0 3.119 0.525 6.014 1.575 8.685 1.05 2.668 2.521 4.995 4.411 6.975 1.889 1.979 4.139 3.539 6.75 4.679 2.61 1.139 5.503 1.711 8.685 1.711 3.839 0 7.095-0.706 9.765-2.115 2.669-1.411 4.814-3.255 6.435-5.535 1.62-2.281 2.79-4.861 3.509-7.74 0.72-2.88 1.081-5.821 1.081-8.821v-1.529h-31.5c0-1.561 0.344-2.971 1.035-4.23 0.689-1.261 1.589-2.341 2.7-3.241 1.109-0.9 2.37-1.59 3.779-2.07 1.41-0.48 2.805-0.719 4.186-0.719 2.039 0 3.825 0.194 5.355 0.585 1.53 0.389 2.834 0.839 3.914 1.35 1.081 0.509 1.965 1.049 2.656 1.62 0.689 0.569 1.214 1.034 1.575 1.395z" class="safill" fill="#570053"/></g><g transform="matrix(.35278 0 0 -.35278 -281.61 82.315)"><path d="m0 0h10.17l0.271-5.31c0.479 0.599 1.093 1.26 1.844 1.98 0.75 0.72 1.634 1.379 2.656 1.98 1.019 0.599 2.204 1.109 3.554 1.529s2.894 0.63 4.635 0.63c1.02 0 1.936-0.06 2.745-0.18 0.81-0.12 1.634-0.33 2.475-0.629l-2.159-9.991c-0.721 0.3-1.456 0.509-2.206 0.631-0.751 0.119-1.635 0.18-2.655 0.18-1.439 0-2.821-0.241-4.139-0.72-1.321-0.482-2.461-1.171-3.421-2.071s-1.725-1.979-2.295-3.239c-0.57-1.261-0.855-2.67-0.855-4.231v-22.769h-10.62z" class="safill" fill="#570053"/></g><g class="safill" fill="#570053"><path d="m-267.95 95.582c0-1.3296-1.0777-2.4074-2.4074-2.4074-1.3296 0-2.4074 1.0777-2.4074 2.4074s1.0777 2.4074 2.4074 2.4074c1.3296 0 2.4074-1.0777 2.4074-2.4074"/><rect x="-247.76" y="81.915" width="3.8086" height="15.836" rx="0" ry="0"/><rect x="-247.76" y="75.5" width="3.8086" height="3.3409" rx="0" ry="0"/><rect x="-241.66" y="94.53" width="11.982" height="3.2208" rx="0" ry="0"/><path d="m-241.66 81.892h11.982v3.2208h-11.982z"/><path transform="rotate(45)" d="m-105.68 222.9 3.43-0.33021 1.9968 14.453-3.7871 0.70211z"/><path d="m-265.76 75.5v22.25h3.6196v-1.6629c1.5905 0.92855 3.2041 1.6299 4.9017 1.6299 4.1608-1.61e-4 6.8721-3.5953 6.8719-8.0882-6e-5 -4.4927-3.3494-7.7267-7.51-7.7269-1.6145-5.6e-5 -3.0896 0.70302-4.2637 1.5845v-7.9867zm7.5285 9.4343c2.7779-1.85e-4 4.4396 1.6888 4.4398 4.8324 1e-5 3.1438-1.1654 4.9364-3.9435 4.9362-1.7675-8.5e-5 -3.5083-1.6485-4.4053-3.2089v-3.754c0.63772-1.7434 2.2018-2.8057 3.909-2.8058z"/></g><path d="m-338.03 86.538c2.808-1.9594 7.5359-1.7582 7.5359 1.1576v10.158h3.4727v-10.776c0-3.2747-3.4913-5.1982-6.7609-4.9558s-4.2241 0.70737-4.2241 0.70737z" class="safill" fill="#570053" fill-rule="evenodd"/><rect x="-341.5" y="75.84" width="3.638" height="21.923" rx="0" ry="0" class="safill" fill="#570053" fill-opacity=".99608"/></g></svg>').replace(/fill=\"(.*?)\"/gm,' fill="'+colors.primaryColor+'"'),czaterStyles.addCSSRule(".e3D18r-icon-promo","background-image: url('data:image/svg+xml;charset%3DUS-ASCII,"+encodeURIComponent(n)+"');"),n=n.replace(/fill=\"(.*?)\"/gm,' fill="#FFFFFF"'),parent.postMessage(JSON.stringify({type:"chatIcon",value:{selector:".e3D18r-icon-promo",icon:"background-image: url('data:image/svg+xml;charset%3DUS-ASCII,"+encodeURIComponent(n)+"');"}}),"*"),1==e.forceOffline&&0==forceOffline&&(forceOffline=!0),e.convInProgress&&1==e.convInProgress&&(czaterSections.setSectionPicked(!0),chosenSection&&(checkSectionAndHideAttach(chosenSection),czaterSections.setCurrentSection(chosenSection))),void 0!==e.specialReferer&&(referer=e.specialReferer),void 0!==e.userLogin&&null!==e.userLogin&&""!==e.userLogin.trim()&&$('.formClientData input[name="name"]').val(e.userLogin.replace("&","&amp;").replace('"',"&quot;").replace("'","&#039;").replace("<","&lt;").replace(">","&gt;")),void 0!==e.userEmail&&null!==e.userEmail&&""!==e.userEmail.trim()&&$('.formClientData input[name="email"]').val(e.userEmail.replace("&","&amp;").replace('"',"&quot;").replace("'","&#039;").replace("<","&lt;").replace(">","&gt;")),$("div.czater-messages").scrollTop($("div.czater-messages")[0].scrollHeight),setTimeout(function(){checkConvExists()},1e3),e.status){if(e.status&&0===e.status.sectionsCount)return e.status.status&&czaterSections.setNoSectionsStatus(e.status.status),void("myData"!=czaterViews.getCurrentViewName()&&"settings"!=czaterViews.getCurrentViewName()&&czaterConversation.decideChatState());if(e.status&&e.status.sectionsCount>0&&(e.status.sectionsOffline&&czaterSections.setSectionsOffline(e.status.sectionsOffline),e.status.sectionsOnline&&czaterSections.setSectionsOnline(e.status.sectionsOnline),czaterSections.createSections()),"myData"!=czaterViews.getCurrentViewName()&&"settings"!=czaterViews.getCurrentViewName()&&czaterConversation.decideChatState(),e.status&&t.firstMessage&&0!==e.status.sectionsCount||void 0!==e.convInProgress&&!1===e.convInProgress){if(e.onlyCreate)return;void 0===e.status.sectionsOffline||0===Object.keys(e.status.sectionsOffline).length?$("h3.conversations-offline").hide():$("h3.conversations-offline").show(),void 0===e.status.sectionsOnline||0===Object.keys(e.status.sectionsOnline).length?$("h3.conversations-online").hide():$("h3.conversations-online").show(),2!=layout&&3!=layout&&0!=layout||ratingUp&&(ratingUp=!1,$(".czater-sections").hide()),czaterSections.changeSectionWithUrl(referer)}e.hideBrand&&$(".footer-button.right-button").hide()}}function dragAndDropInfo(e){"none"!==$("#addImage").css("display")&&(e?(document.getElementById("czater-drop-info").style.display="none",document.getElementById("czater-mainContener").classList.remove("dashed-drop")):(document.getElementById("czater-drop-info").style.display="block",document.getElementById("czater-mainContener").classList.add("dashed-drop")))}function dragAndDrop(){var e=document.getElementById("czater-mainContener");["dragenter","dragover","dragleave","drop"].forEach(function(t){e.addEventListener(t,i,!1),document.body.addEventListener(t,i,!1)});function t(){"none"!==$("#addImage").css("display")&&(document.getElementById("czater-drop-info").style.display="block",document.getElementById("czater-mainContener").classList.add("dashed-drop"))}function n(){"none"!==$("#addImage").css("display")&&(document.getElementById("czater-drop-info").style.display="none",document.getElementById("czater-mainContener").classList.remove("dashed-drop"))}function i(e){e.preventDefault(),e.stopPropagation()}e.addEventListener("mousemove",function(e){},!1),e.addEventListener("mouseleave",function(e){},!1),["dragstart","dragenter","dragover"].forEach(function(n){e.addEventListener(n,t,!1)}),["dragleave","drop"].forEach(function(t){e.addEventListener(t,n,!1)}),e.addEventListener("drop",function(e){if("none"===$("#addImage").css("display"))return;!function(e){if("none"===$("#addImage").css("display"))return;e[0]&&(e[0].id=idPhoto);if(photosToSend.length>5)return;photosToSend.push(e[0]),photosToSend.length>0&&(0==layout&&$("#allSettings").hide(),$("#pressSend").show(),$("#addImageToConversation").hide());!function(e){if("none"===$("#addImage").css("display"))return;var t=new FileReader;"object"==typeof e&&"string"==typeof e.type&&"object"==typeof t&&"function"==typeof t.readAsDataURL&&(t.readAsDataURL(e),t.onloadend=function(){var e=document.createElement("div");e.classList.add("photoContainer");var n=document.createElement("img"),i=document.createElement("div");i.classList.add("deleteButton"),i.classList.add("e3D18r-icon-bundle"),i.classList.add("e3D18r-icon-zamknij_black"),i.setAttribute("data-id",idPhoto),idPhoto++,n.style.height="40px",n.style.width="40px";var a=document.getElementById("czater-photos");n.src=t.result,e.appendChild(n),e.appendChild(i),a.appendChild(e),a.style.display="block",document.getElementById("inputMessage").style.maxHeight="90px",1!=layout&&2!=layout||(document.getElementById("inputMessage").style.maxHeight="80px",document.getElementById("inputMessage").style.height="80px"),3==layout&&(document.getElementById("inputMessage").style.maxHeight="100px",document.getElementById("inputMessage").style.height="100px")})}(e[0])}(e.dataTransfer.files)},!1)}$(document).ready(function(){var e,t,n,i,a,r;e=0,t=!1,n=0,i=0,a=!0,r=$("div.czater-messages"),window.clearPrevMessages=function(){e=0,t=!1,a=!0,$("div.czater-messages .czater-oldMessage").each(function(){$(this).remove()})},window.getPrevMessages=function(n){if(!t){void 0!==n?i=n:n=i;var a={type:"getPrevMessages",value:{idSection:n,lastMessageId:e}};parent.postMessage(JSON.stringify(a),"*")}},window.setPrevMessages=function(i){"object"==typeof i&&(0!==i.length?(i.length>0&&$("#welcomeMessage").hide(),i.forEach(function(t){e=t.idMessage,t.idConversation!==n&&(n=t.idConversation,r.prepend('<div class="czater-centerMessage clearfix chatMessage czater-oldMessage" style="height: 5px; width: 90%; margin: 5%"></div>')),r.prepend('\n<div class="czater-'+("client"===t.whoWrote?"right":"left")+`Message clearfix chatMessage czater-oldMessage"> \n    <div class="chat-body clearfix" style="position:relative; ">  \n        ${t.message}\n    </div>\n    <div class="timeCaption" data-time="${1e3*t.dateSend}" ></div>\n</div>\n`)}),a&&(a=!1,r.scrollTop(r.scrollHeight))):t=!0)},r.on("scroll",function(){0==$(this).scrollTop()&&window.getPrevMessages()}),photosToSend=[],idPhoto=0,setTimeout(function(){isMobile.any()?$(".czater-messages").scrollTop(function(){return this.scrollHeight}):($(".czater-messages").slimScroll({start:"bottom"}),$("#sendEmail, .formClientData").slimScroll({start:"top"}))},700),dragAndDrop(),$(document).on("click",".deleteButton",function(){var e=$(this);e.parent().remove();for(var t=0;t<photosToSend.length;t++)photosToSend[t].id==e.data("id")&&photosToSend.splice(t,1);0==photosToSend.length&&(document.getElementById("inputMessage").style.maxHeight="53px")}),$("#inputMessage").pastableTextarea(),$("div.czater-window").attr("firstMessage","1"),czaterSurvey.setAdminHash(chatId),czaterSurvey.setOriginType("conversation"),czaterSurvey.init(),changeTimeCaptions(),setInterval(function(){changeTimeCaptions()},6e4),$("#addImage").submit(function(e){$(this);$("#pressSend").show(),$("#addImageToConversation").hide();var t=document.getElementById("imageToConversation").files[0];if(void 0!=t){if(photosToSend.length>5)return e.preventDefault(),!1;t.id=idPhoto,photosToSend.push(t);var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){var e=document.createElement("div");e.classList.add("photoContainer");var t=document.createElement("img"),i=document.createElement("div");i.classList.add("deleteButton"),i.classList.add("e3D18r-icon-bundle"),i.classList.add("e3D18r-icon-zamknij_black"),i.setAttribute("data-id",idPhoto),idPhoto++,t.style.height="40px",t.style.width="40px";var a=document.getElementById("czater-photos");t.src=n.result,e.appendChild(t),e.appendChild(i),a.appendChild(e),a.style.display="block",document.getElementById("inputMessage").style.maxHeight="90px",1!=layout&&2!=layout||(document.getElementById("inputMessage").style.maxHeight="80px",document.getElementById("inputMessage").style.height="80px"),3==layout&&(document.getElementById("inputMessage").style.maxHeight="100px",document.getElementById("inputMessage").style.height="100px")}}e.preventDefault()}),$("#imageToConversation").change(function(){$("#addImage").submit()}),czaterClientData.setBasicFields(clientData.fields),czaterClientData.setCustomFields(clientData.customFields),czaterClientData.setContryCodes(clientData.countryCodes),czaterClientData.createClientDataForm(),czaterViews.addSignal("myData","signalsEnter",function(){addFlags()}),czaterViews.addSignal("formOffline","signalsEnter",function(){addFlags()}),czaterViews.addSignal("myData","signalsEnter",function(){czaterClientData.addClientFieldsToMyData(),$("input.form-control, .client-data-input-field input, .client-data-input-field select").trigger("change");var e=czaterClientData.getField("phone");if(e&&e.directional)var t=e.directional;else t="48";$('.phone-inputs-div[data-value="'+t+'"]').trigger("click"),czaterClientData.initValidation()}),czaterViews.addSignal("formOffline","signalsEnter",function(){czaterClientData.addClientFieldsToOffline();var e=$("#offline-message-textarea").parent().detach(),t=$("#sendEmail .client-data-rodo-field");t.length>0?$(t[0]).before(e):$("#sendEmail .client-data-all-fields").append(e),$(".client-data-input-field input, .client-data-input-field select, .client-data-input-field textarea").trigger("change");var n=czaterClientData.getField("phone");if(n&&n.directional)var i=n.directional;else i="48";$('.phone-inputs-div[data-value="'+i+'"]').trigger("click"),czaterClientData.initValidation()}),czaterViews.addSignal("settings","signalsEnter",function(){$(".client-data-input-field input, .client-data-input-field select, .client-data-input-field textarea").trigger("change")}),czaterViews.addSignal("formOffline","signalsEnter",function(){window.parent.postMessage(JSON.stringify({type:"changeHeader",mode:"offline"}),"*")}),1!=layout&&2!=layout||(czaterViews.addSignal("formOffline","signalsEnter",function(){$(".czater-submit").hide()}),czaterViews.addSignal("myData","signalsEnter",function(){$(".czater-submit").hide()}),czaterViews.addSignal("conversation","signalsEnter",function(){$(".czater-submit").show()})),2==layout&&czaterViews.addSignal("sections","signalsEnter",function(){$(".czater-submit").show("slow")}),czaterViews.addSignal("sections","signalsEnter",function(){"sections"!=czaterViews.getCurrentViewName()&&czaterSections.changeSectionWithUrl(referer)}),czaterViews.changeView("sections"),$(document).on("click","#add-attachment-file",function(){for(var e=$('#files-list input[type="file"]'),t=0,n=0;n<e.length;n++){var i=e[n];0==i.files.length?$(i).parent().remove():t++}if(t>4)alert(maxFiles);else{var a=document.createElement("div"),r=document.createElement("input"),s=document.createElement("div"),o=document.createElement("label");r.setAttribute("type","file"),r.setAttribute("name","attachment[]"),o.setAttribute("class","file-input-label e3D18r-icon-bundle e3D18r-icon-zamknij_black"),a.setAttribute("style","display:none"),a.setAttribute("class","file-input-container"),s.setAttribute("class","file-input-name"),a.appendChild(r),a.appendChild(s),a.appendChild(o),$("#files-list")[0].appendChild(a),o.addEventListener("click",function(){$(this).parent().remove()}),r.addEventListener("change",function(){var e=$(this);this.files.length>0&&(this.files[0].size>5e6?(e.parent().remove(),alert(maxSize)):(e.parent().find(".file-input-name")[0].innerHTML='<div class="e3D18r-icon-bundle e3D18r-icon-spinacz"></div>'+this.files[0].name,e.parent().css("display","block")))}),$(r).click()}}),czaterStyles.createSheet(),czaterStyles.createRules("all");for(var s=0;s<4;s++)if(s==layout)for(var o=0;o<czaterStyles.getCssProperties().length;o++)czaterStyles.createRules(s);$(".czater-clientdata").click(function(e){$(".formClientData").validate().form()&&submitClientData(e)}),$.extend($.validator.messages,{required:requiredField,minlength:$.validator.format(messageMinimum1+" {0} "+messageMinimum2),email:requiredEmail,digits:digits}),$(document).on("click",'.form-data input[type="checkbox"]',function(){$(this).val($(this).prop("checked")?"1":"0")}),$(document).on("change","input, select, textarea",function(){var e=$(this);e.attr("data-input-value",e.val())}),$(document).on("click",".czater-sections li a",function(){checkSectionAndHideAttach($(this).parent().attr("data-id")),czaterSections.setCurrentSection($(this).parent().attr("data-id")),czaterSections.setCurrentSectionHash($(this).parent().attr("data-hash")),czaterSections.setSectionPicked(!0),czaterConversation.decideChatState(),window.clearPrevMessages(),window.getPrevMessages(czaterSections.getDepartment().id),window.parent.postMessage(JSON.stringify({type:"ClientGetSection",value:{chatHash:chat_client_cookie,consultantID:chatId,department:czaterSections.getDepartment()}}),"*")}),$(".czater-settings-button").click(function(){czaterViews.changeView("settings"),0==layout&&$("#settings").hide()}),$(".czater-settings-button-close").click(function(){czaterConversation.decideChatState()}),$(".czater-myData-button").click(function(){loadFacebookAndGoogle(),czaterViews.changeView("myData"),0==layout&&$("#settings").hide()}),$(".czater-myData-button-close").click(function(){czaterConversation.decideChatState()}),$(".removeDataButton").click(function(){confirm(removeDataConfirm)&&$.ajax({type:"POST",url:"/chat/ajax/removeData",data:{adminHash:chatId,clientHash:chat_client_cookie},dataType:"json"}).done(function(e){e&&"success"===e.status&&(parent.postMessage(JSON.stringify({type:"removeData"}),"*"),alert(removeDataDone),setTimeout(function(){location.reload(!0)},1))})}),$(document).on("click",".phone-inputs-control",function(){$(".phone-inputs-holder").is(":visible")?$(".phone-inputs-holder").hide():$(".phone-inputs-holder").show()}),$(document).on("click",".phone-inputs-div",function(){var e=$(this).attr("data-value"),t=$(".phone-inputs-number").val(),n=$(this).children(),i=$(n[0]).context.outerHTML;$(".phone-inputs-control").html(i+" +"+e),$(".phone-inputs-control").attr("data-value",e),$(".phone-inputs-selected").val(e+"-"+t),$(".phone-inputs-holder").hide()}),$(document).on("change",".phone-inputs-number",function(){var e=$(this).parent().parent().parent().parent().parent().find(".phone-inputs-control").attr("data-value"),t=$(this).val();$(".phone-inputs-selected").val(e+"-"+t)}),$(".czater-download-czat").click(function(){$(".form-czater-download").submit(),$(".czater-settings-button-close").click()}),$("input[name='myNameSubmit']").click(function(){""!=$("input[name='myName']").val()&&"chat_consultant_conversation_id"!=chat_consultant_conversation_id&&$.ajax({url:"/setClientName/"+chat_consultant_conversation_id}).done(function(e){})}),$("#inputMessage").on("keydown",function(e){13!==e.which||e.shiftKey||e.preventDefault(),document.hidden||parent.postMessage(JSON.stringify({type:"readMessagesByClient",value:{}}),"*")}),$("#inputMessage").on("keyup",function(e){var t=$(this);if(photosToSend.length>0&&13===e.which&&!e.shiftKey){for(var n=0;n<photosToSend.length;n++){var i=new FormData;i.append("file",photosToSend[n]),$.ajax({type:"POST",url:$("#addImage").attr("action"),enctype:"multipart/form-data",processData:!1,contentType:!1,data:i}).done(function(e){var t={type:"ClientSendMessage",value:{adminHash:chatId,code:code,whoSend:"client",firstMessage:firstMessage,chatHash:chat_client_cookie,consultantID:chatId,clientID:clientID,message:e,welcomeMessage:$("#welcomeMessage").text().trim(),department:czaterSections.getDepartment(),clientNameInput:$('.formClientData input[name="name"]').length>0?$('.formClientData input[name="name"]').val():"",clientEmailInput:$('.formClientData input[name="name"]').length>0?$('.formClientData input[name="email"]').val():""}};window.parent.postMessage(JSON.stringify(t),"*")})}photosToSend=[],$("#czater-photos").empty()}var a=t.val().trim().replace(/^\s+|\s+$/g,""),r=!1;if(13!==e.which||e.shiftKey||""===a)r=""!==$("#inputMessage").val().trim(),window.parent.postMessage(JSON.stringify({type:"ClientWriting",value:{message:$("#inputMessage").val(),isWriting:r,clientID:clientID,chatHash:chat_client_cookie}}),"*");else{firstMessage&&(firstMessage="1"===$("div.czater-window").attr("firstMessage")),t.val("");var s={type:"ClientSendMessage",value:{adminHash:chatId,code:code,whoSend:"client",firstMessage:firstMessage,chatHash:chat_client_cookie,consultantID:chatId,clientID:clientID,message:a,welcomeMessage:$("#welcomeMessage").text().trim(),isWriting:!1,department:czaterSections.getDepartment(),clientNameInput:$('.formClientData input[name="name"]').length>0?$('.formClientData input[name="name"]').val():"",clientEmailInput:$('.formClientData input[name="name"]').length>0?$('.formClientData input[name="email"]').val():""}};if("undefined"!=typeof allegroReferer&&(s.value.allegroReferer=allegroReferer),window.parent.postMessage(JSON.stringify(s),"*"),firstMessage)sendSyneriseEvent(1,"czater_started-chat-conv",{}),sendSyneriseEvent(2,"chat",{name:$('.formClientData input[name="name"]').val(),email:$('.formClientData input[name="email"]').val()});firstMessage=!1,isMobile.any()||$(".czater-messages").slimScroll({start:"bottom"})}""===t.val().trim()?($("#pressSend").hide(),$("#addImageToConversation").show(),0==layout&&($("#allSettings").show(),$("#addImageToConversation").show())):(0==layout&&($("#allSettings").hide(),$("#settings").hide()),$("#pressSend").show(),$("#addImageToConversation").hide()),0==photosToSend.length&&(this.style.height="auto",$(this).css("maxHeight",this.scrollHeight),this.style.height="100px")}),$(".addImageIcon").on("click",function(){$("#imageToConversation").click()}),$(document).on("click","a",function(e){"_blank"!=e.currentTarget.target&&(e.preventDefault(),location.replace(e.currentTarget.href))}),$("#markUp").click(function(){$("#markDown").removeAttr("data-selected"),$(this).attr("data-selected","true"),$("#markValue").attr("value","0")}),$("#markDown").click(function(){$("#markUp").removeAttr("data-selected"),$(this).attr("data-selected","true"),$("#markValue").attr("value","1")}),$(document).on("focus","#inputMessage",function(){document.hidden||parent.postMessage(JSON.stringify({type:"readMessagesByClient",value:{}}),"*")}),$(document).on("click","#inputMessage",function(){parent.postMessage(JSON.stringify({type:"readMessagesByClient",value:{}}),"*")}),$("#pressSend").click(function(){$("#inputMessage").trigger(jQuery.Event("keydown",{which:13})),$("#inputMessage").trigger(jQuery.Event("keyup",{which:13})),$("#inputMessage").val(""),$("#inputMessage").focus()}),$("#allSettings").on("click",function(){$("#settings").fadeToggle("fast","linear")}),$("#markCancel").click(function(){czaterViews.allowViewChange(),czaterConversation.decideChatState()}),$("#markSend").on("click",function(e){czaterViews.allowViewChange(),$("#markForm").submit()}),$("#markForm").on("submit",function(e){if(e.preventDefault(),""===$("#markValue").val())alert(selectMark);else{var t=$("input[name=markValue]:checked").val();window.parent.postMessage(JSON.stringify({type:"MarkConversation",value:{chatHash:chat_client_cookie,chatId:chatId,mark:t,comment:$("#markComment").val()}}),"*"),czaterConversation.decideChatState()}}),window.addEventListener("message",function(e){!function(e,t){if(!e.origin.match("facebook.com")){var n=JSON.parse(e.data);"templateLoaded"===n.type&&InfoForClient(n.value,t),"internet"===n.type&&internet(n.value),"getUserData"===n.type&&getUserData(n.value),"ConsultantBeginConversation"===n.type&&ConsultantBeginConversation(n.value,t),"message"===n.type&&message(n.value),"changeChosenSectionMsg"===n.type&&checkSectionAndHideAttach(n.value.chosenSection),"UpdateMessage"===n.type&&updateMessage(n.value.idMessage,n.value.message,n.value.translated),"allowConversation"===n.type&&allowConversation(n.value),"disallowConversation"===n.type&&disallowConversation(n.value),"ConsultantWriting"===n.type&&ConsultantWriting(n.value),"EndConversation"===n.type&&EndConversation(n.value),"ShowClientData"===n.type&&ShowClientData(),"allegroReferer"===n.type&&doAllegroReferer(n.value),"editClientData"===n.type&&sendClientData(n.value,function(){}),"drag"===n.type&&dragAndDropInfo(n.value)}}(e,{firstMessage:firstMessage,chat_client_cookie:chat_client_cookie,chatId:chatId,language:language})},!1)}),function(){var e,t,n,i,a;(e=window.jQuery).paste=function(e){return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),t.mountNonInputable(e)._container},e.fn.pastableNonInputable=function(){var n,i,a;for(i=0,a=this.length;i<a;i++)(n=this[i])._pastable||e(n).is("textarea, input:text, [contenteditable]")||(t.mountNonInputable(n),n._pastable=!0);return this},e.fn.pastableTextarea=function(){var n,i,a;for(i=0,a=this.length;i<a;i++)(n=this[i])._pastable||e(n).is(":not(textarea, input:text)")||(t.mountTextarea(n),n._pastable=!0);return this},e.fn.pastableContenteditable=function(){var n,i,a;for(i=0,a=this.length;i<a;i++)(n=this[i])._pastable||e(n).is(":not([contenteditable])")||(t.mountContenteditable(n),n._pastable=!0);return this},i=function(e,t){var n,i,a,r,s,o,l,c,u,d,f;if(null==t&&(t=512),!(c=e.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(c=(d=c)[0],o=d[1],n=d[2],r=atob(n),a=[],u=0;u<r.length;){for(f=r.slice(u,u+t),s=new Array(f.length),l=0;l<f.length;)s[l]=f.charCodeAt(l),l++;i=new Uint8Array(s),a.push(i),u+=t}return new Blob(a,{type:o})},n=function(){return e(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},a=function(t,n){var i,a,r,s,o,l;return s=void 0,o=void 0,r=void 0,a=void 0,i=void 0,"area"===(l=t.nodeName.toLowerCase())?(o=(s=t.parentNode).name,!(!t.href||!o||"map"!==s.nodeName.toLowerCase())&&((r=e("img[usemap='#"+o+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(a=!t.disabled)&&(i=e(t).closest("fieldset")[0])&&(a=!i.disabled):a="a"===l&&t.href||n,(a=a||e(t).is("[contenteditable]"))&&e(t).is(":visible"))},t=function(){function t(t,n){var i;this._container=t,this._target=n,this._container=e(this._container),this._target=e(this._target).addClass("pastable"),this._container.on("paste",(i=this,function(e){var t,n,a,r,s,o,l,c,u,d,f,h,p;if(e.currentTarget!==e.target)return e.preventDefault();if(i._paste_event_fired=!0,null!=(null!=(u=e.originalEvent)?u.clipboardData:void 0))if((t=e.originalEvent.clipboardData).items)for(r=0,o=(d=t.items).length;r<o;r++){if((a=d[r]).type.match(/^image\//)){(c=new FileReader).onload=function(e){return i._handleImage(e.target.result)},c.readAsDataURL(a.getAsFile()),e.preventDefault();break}"text/plain"===a.type&&a.getAsString(function(e){return i._target.trigger("pasteText",{text:e})})}else-1!==Array.prototype.indexOf.call(t.types,"text/plain")&&(p=t.getData("Text"),setTimeout(function(){return i._target.trigger("pasteText",{text:p})},1)),i._checkImagesInContainer(function(e){return i._handleImage(e)});if(t=window.clipboardData)if(null!=(f=p=t.getData("Text"))?f.length:void 0)setTimeout(function(){return i._target.trigger("pasteText",{text:p}),i._target.trigger("_pasteCheckContainerDone")},1);else{for(s=0,l=(h=t.files).length;s<l;s++)n=h[s],i._handleImage(URL.createObjectURL(n));i._checkImagesInContainer(function(e){})}return null}))}return t.prototype._target=null,t.prototype._container=null,t.mountNonInputable=function(i){var r;return r=new t(n().appendTo(i),i),e(i).on("click",function(e){if(!a(e.target,!1))return r._container.focus()}),r._container.on("focus",function(){return e(i).addClass("pastable-focus")}),r._container.on("blur",function(){return e(i).removeClass("pastable-focus")})},t.mountTextarea=function(i){var a,r,s,o;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(s=Object.getOwnPropertyDescriptor)&&null!=(o=s.call(Object,DataTransfer.prototype,"items"))?o.get:void 0)?this.mountContenteditable(i):(r=new t(n().insertBefore(i),i),a=!1,e(i).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(a=!1),null}),e(i).on("keydown",function(t){var n;return 17!==(n=t.keyCode)&&224!==n||(a=!0),null!=t.ctrlKey&&null!=t.metaKey&&(a=t.ctrlKey||t.metaKey),a&&86===t.keyCode&&(r._textarea_focus_stolen=!0,r._container.focus(),r._paste_event_fired=!1,setTimeout(function(){if(!r._paste_event_fired)return e(i).focus(),r._textarea_focus_stolen=!1},1)),null}),e(i).on("paste",function(){}),e(i).on("focus",function(){if(!r._textarea_focus_stolen)return e(i).addClass("pastable-focus")}),e(i).on("blur",function(){if(!r._textarea_focus_stolen)return e(i).removeClass("pastable-focus")}),e(r._target).on("_pasteCheckContainerDone",function(){return e(i).focus(),r._textarea_focus_stolen=!1}),e(r._target).on("pasteText",function(t,n){var a,r,s;return s=e(i).prop("selectionStart"),r=e(i).prop("selectionEnd"),a=e(i).val(),e(i).val(""+a.slice(0,s)+n.text+a.slice(r)),e(i)[0].setSelectionRange(s+n.text.length,s+n.text.length),e(i).trigger("change")}))},t.mountContenteditable=function(n){return new t(n,n),e(n).on("focus",function(){return e(n).addClass("pastable-focus")}),e(n).on("blur",function(){return e(n).removeClass("pastable-focus")})},t.prototype._handleImage=function(e){var t,n;return e.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):((t=new Image).crossOrigin="anonymous",t.onload=(n=this,function(){var e,a,r;(a=document.createElement("canvas")).width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0,a.width,a.height),r=null;try{r=a.toDataURL("image/png"),e=i(r)}catch(e){}if(r)return n._target.trigger("pasteImage",{blob:e,dataURL:r,width:t.width,height:t.height})}),t.onerror=function(t){return function(){return t._target.trigger("pasteImageError",{message:"Failed to get image from: "+e,url:e})}}(this),t.src=e)},t.prototype._checkImagesInContainer=function(t){var n,i,a,r,s,o;for(s=Math.floor(1e3*Math.random()),i=0,a=(r=this._container.find("img")).length;i<a;i++)(n=r[i])["_paste_marked_"+s]=!0;return setTimeout((o=this,function(){var i,a,r;for(i=0,a=(r=o._container.find("img")).length;i<a;i++)(n=r[i])["_paste_marked_"+s]||(t(n.src),e(n).remove());return o._target.trigger("_pasteCheckContainerDone")}),1)},t}()}.call(this),$(document).ready(function(){$('input[name="spectre"]').css({position:"absolute",right:"10000px"}),$("textarea[name='message']").focus(function(){setTimeout(function(){var e=$("#sendEmail .czater-content .form");if(e.length>0){var t=e[0].scrollHeight;e.scrollTop(t)}},500)}),$("#sendEmail").submit(function(e){e.preventDefault(),czaterViews.allowViewChange(),$("#sendEmail").validate().form();var t=!0,n=referrer;if(n||(n=document.referrer),$(".help-block").each(function(e){"none"!=$(this).css("display")&&(t=!1)}),$('input[name="spectre"]').length>0&&""!==$('input[name="spectre"]').val()&&(t=!1,$(".send-control").css("display","none"),$.ajax({type:"POST",url:"/email/sendFailMessage/"+chatId,data:{clientName:$("input[name='name']").val(),clientHash:chat_client_cookie,email:$("input[name='email']").val(),message:$("textarea[name='message']").val(),idSection:czaterSections.getCurrentSection(),referrer:document.referrer}}),$(".form").html("<strong>Twoja wiadomo zostaa wysana poprawnie</strong>")),t){var i=new FormData,a=window.navigator.userLanguage||window.navigator.language;$(".send-control").css("display","none");var r={};$("#sendEmail").parent().find(".form-control").each(function(){var e=$(this),t=e.attr("name"),n=e.val();"undefined"!=n&&(i.set(t,n),r[t]=n)}),r.clientHash=chat_client_cookie,r.idSection=czaterSections.getCurrentSection(),r.referrer=n,r.screenWidth=window.screen.width,r.screenHeight=window.screen.height,r.clientName=$('input[name="name"]').length?$('input[name="name"]').val():null,r.email=$('input[name="email"]').length?$('input[name="email"]').val():null,r.phone=$('input[name="phone"]').length?$('input[name="phone"]').val():null,r.skype=$('input[name="skype"]').length?$('input[name="skype"]').val():null,r.custom=$('input[name="custom"]').length?$('input[name="custom"]').val():null;for(var s=$('input[name="attachment[]"]'),o=0;o<s.length;o++)i.append("attachment[]",s[o].files[0]);i.set("clientHash",r.clientHash),i.set("idSection",r.idSection),i.set("referrer",r.referrer),i.set("screenWidth",r.screenWidth),i.set("screenHeight",r.screenHeight),r.clientHash&&i.set("clientName",r.clientName),r.email&&i.set("email",r.email),r.phone&&i.set("phone",r.phone),r.skype&&i.set("skype",r.skype),r.custom&&i.set("custom",r.custom),czaterClientData.syncDataObject(r),$.ajax({type:"POST",url:"/email/sendMessage/"+chatId+"/"+a,cache:!1,contentType:!1,processData:!1,data:i}).done(function(e){"fail"!=e?(sendGoogleAnalyticsEvent("messageOffline"),$("#message-offline-send").html(e),setTimeout(function(){$("#sent-email-message").text(sent_succesfully)},1),czaterViews.changeView("messageOfflineSend")):alert("Nie udao si wysa wiadomoci!"),$(".send-control").css("display","block")})}})});var czaterSurvey={adminHash:"",originType:"",containerID:"survey",setOriginType:function(e){this.originType=e},getOriginType:function(){return this.originType},setAdminHash:function(e){this.adminHash=e},getAdminHash:function(){return this.adminHash},setContainerID:function(e){this.containerID=e},getContainerID:function(){return this.containerID},closest:function(e,t){for(;e!==document.body;)if((e=e.parentElement).matches(t))return e},getText:function(e){for(var t=0;t<e.childNodes.length;t++)if(3===e.childNodes[t].nodeType)return e.childNodes[t].nodeValue},loadTemplate:function(e){var t=this,n=document.getElementById(t.getContainerID());n.setAttribute("data-idSurvey",e.idSurvey),n.setAttribute("data-idOrigin",e.idOrigin),n.innerHTML=e.content,surveyThanks=e.thanks,void 0!==czaterViews&&(czaterViews.changeView("survey"),czaterViews.disallowViewChange()),[].forEach.call(document.querySelectorAll('.form-data input[type="checkbox"]'),function(e,t){e.addEventListener("click",function(e){e.target.value=1==e.target.checked?"1":"0"})}),[].forEach.call(document.querySelectorAll(".survey-options input"),function(e,n){e.addEventListener("change",function(e){var n=e.target,i=t.closest(n,".survey-options"),a=t.closest(n,".survey-question"),r=n.getAttribute("data-id"),s=n.checked;s&&a.setAttribute("data-done","1");var o=a.getAttribute("data-type"),l=a.getAttribute("data-required");if(s&&"single"===o&&[].forEach.call(i.querySelectorAll("input"),function(e){e.getAttribute("data-id")!=r&&(e.checked=!1)}),!s&&1==l){var c=!0;[].forEach.call(i.querySelectorAll("input"),function(e){e.checked&&(c=!1)}),c&&(n.checked=!0)}})}),[].forEach.call(document.querySelectorAll(".survey-question-answer textarea"),function(e,n){e.addEventListener("change",function(e){var n=e.target,i=t.closest(n,".survey-question");n.value.trim().length>=5?i.setAttribute("data-done","1"):i.setAttribute("data-done","0")})}),[].forEach.call(document.getElementsByClassName("survey-close"),function(e,n){e.addEventListener("click",function(e){void 0!==sendSyneriseEvent&&sendSyneriseEvent(1,"czater_closed-survey",{}),t.closeSurvey()})}),[].forEach.call(document.getElementsByClassName("survey-submit"),function(e,n){e.addEventListener("click",function(e){var n=document.getElementById(t.getContainerID()),i=n.getAttribute("data-idSurvey"),a=n.getAttribute("data-idOrigin");if(void 0!==i&&void 0!==a){$questions=document.getElementsByClassName("survey-question");var r=[],s=$questions.length-1,o=!0;[].forEach.call($questions,function(e,n){var l=$questions[n].getAttribute("data-id"),c=$questions[n].getAttribute("data-type"),u=$questions[n].getAttribute("data-done"),d=$questions[n].getAttribute("data-required");if(void 0!==l&&void 0!==c&&void 0!==u&&void 0!==d){if(1==d&&0==u)return o=!1,void t.markRequired(e);t.markNotRequired(e);var f={idSurveyQuestion:l};if("single"===c||"multi"===c){f.options=[],e.querySelectorAll(".survey-options input").forEach(function(e){var t=e.getAttribute("data-id");e.checked&&void 0!==t&&f.options.push(t)})}else{var h=e.querySelector(".survey-question-answer textarea").value;f.value=h}r.push(f),n==s&&o&&t.finishSave({idSurvey:i,idOrigin:a,answers:r,originType:t.getOriginType()})}})}})})},surveyTemplate:function(e){this.loadTemplate(e),sessionStorage&&(sessionStorage.setItem("survey_id",e.idSurvey),sessionStorage.setItem("survey_origin",e.idOrigin),sessionStorage.setItem("survey_origin_type",e.originType),sessionStorage.setItem("survey_content",e.content),sessionStorage.setItem("admin_hash",this.getAdminHash()),sessionStorage.setItem("survey_thanks",e.thanks))},loadFromStorage:function(){sessionStorage&&sessionStorage.survey_id&&sessionStorage.survey_origin&&sessionStorage.survey_content&&sessionStorage.admin_hash&&sessionStorage.survey_origin_type&&(""!=this.getAdminHash()&&sessionStorage.admin_hash!==this.getAdminHash()||this.getOriginType()==sessionStorage.survey_origin_type&&this.loadTemplate({idSurvey:sessionStorage.survey_id,idOrigin:sessionStorage.survey_origin,originType:sessionStorage.survey_origin_type,content:sessionStorage.survey_content,thanks:sessionStorage.survey_thanks}))},finishSave:function(e){var t={type:"surveyDone",value:e};parent.postMessage(JSON.stringify(t),"*"),void 0!==sendSyneriseEvent&&sendSyneriseEvent(1,"czater_completed-survey",{});var n={};for(var i in e.answers){var a=e.answers[i],r=a.idSurveyQuestion,s=document.querySelector('.survey-question[data-id="'+r+'"] .survey-question-content');if(0!==s.length){var o=s.innerHTML;if(a.value)n[o]=a.value;else if(a.options){n[o]="";var l=!0;for(var c in a.options){var u=a.options[c],d=document.querySelector('.survey-options [data-id="'+u+'"]');if(0!==d.length){l?l=!1:n[o]+=",";var f=this.getText(this.closest(d,"label"));n[o]+=f}}}}}void 0!==sendSyneriseEvent&&sendSyneriseEvent(2,"survey",n),surveyThanks&&"function"==typeof surveyThanksMessage&&surveyThanksMessage(surveyThanks),this.closeSurvey()},markRequired:function(e){e.className+=" required"},markNotRequired:function(e){e.className=e.className.replace(/(?:^|\s)required(?!\S)/g,"")},closeSurvey:function(){sessionStorage.removeItem("survey_id"),sessionStorage.removeItem("survey_origin"),sessionStorage.removeItem("survey_origin_type"),sessionStorage.removeItem("survey_content"),sessionStorage.removeItem("admin_hash"),sessionStorage.removeItem("survey_thanks"),void 0!==czaterViews&&(czaterViews.allowViewChange(),czaterConversation.decideChatState()),"call"==this.getOriginType()&&(document.getElementById("banner-calling").style.display="block",document.getElementById(this.getContainerID()).style.display="none"),document.getElementById(this.getContainerID()).innerHTML=""},init:function(){this.loadFromStorage()}};function receiveMessage(e){if(!e.origin.match("facebook.com")){var t,n=JSON.parse(e.data);if("idSection"===n.type){var i=null;void 0!==$(".czater-sections").data("idsection")&&(i=$(".czater-sections").data("idsection")),t={type:"idSection",value:i},e.source.postMessage(JSON.stringify(t),e.origin)}else if("playSound"===n.type)newConversationSound.playclip();else if("welcomeTrigger"===n.type)$("#welcomeMessage > div").html(n.value),$("#welcomeMessage").show(),$("#welcomeMessage").css("visibility","visible");else if("selectSection"===n.type)czaterSections.clickSelectedSection(n.value);else if("refererSetter"===n.type)"undefined"!=typeof referer&&referer==n.value||(referer=n.value,czaterSections.changeSectionWithUrl(referer));else if("isNowOnline"===n.type)isNowOnline=n.value;else if("czaterReturn"===n.type)czaterSections.setCurrentSection(0),czaterSections.setCurrentSectionHash(""),czaterSections.setSectionPicked(!1),czaterConversation.decideChatState();else if("queueClientHash"===n.type){var a=(new Date).getTime(),r=new Date(a+31536e6),s=n.value.adminHash,o=n.value.newClientHash;document.cookie="czater__="+o+"; expires="+r.toUTCString()+"; path=/;",document.cookie="czater__"+s+"="+o+"; expires="+r.toUTCString()+"; path=/;",t={type:"queueClientHashDone"},e.source.postMessage(JSON.stringify(t),e.origin)}else if("surveyTemplate"===n.type)czaterSurvey.setAdminHash(chatId),czaterSurvey.surveyTemplate(n.value);else if("readMessagesByConsultantDone"===n.type){var l=n.value.idMessage;if(l){$(".messageSeen").hide();var c=$('div[data-id-message="'+l+'"]').find(".messageSeen");c.text(seenLang),c.show()}}else"setPrevMessages"===n.type&&window.setPrevMessages(n.value.messages)}}window.addEventListener("message",receiveMessage,!1),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"100%",size:"7px",color:"#000",position:"right",distance:"1px",start:"bottom",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){var a,r,s,o,l,c,u,d,f="<div></div>",h=30,p=!1,m=e(this);if(m.parent().hasClass(i.wrapperClass)){var g=m.scrollTop();if(w=m.parent().find("."+i.barClass),b=m.parent().find("."+i.railClass),F(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){m.parent().css("height","auto"),m.css("height","auto");var v=m.parent().parent().height();m.parent().css("height",v),m.css("height",v)}if("scrollTo"in n)g=parseInt(i.scrollTo);else if("scrollBy"in n)g+=parseInt(i.scrollBy);else if("destroy"in n)return w.remove(),b.remove(),void m.unwrap();S(g,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?m.parent().height():i.height;var y=e(f).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});m.css({overflow:"hidden",width:i.width,height:i.height});var b=e(f).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),w=e(f).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),x="right"==i.position?{right:i.distance}:{left:i.distance};b.css(x),w.css(x),m.wrap(y),m.parent().append(w),m.parent().append(b),i.railDraggable&&w.bind("mousedown",function(n){var i=e(document);return s=!0,t=parseFloat(w.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),S(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){s=!1,E(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),b.hover(function(){k()},function(){E()}),w.hover(function(){r=!0},function(){r=!1}),m.hover(function(){a=!0,k(),E()},function(){a=!1,E()}),m.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(l=e.originalEvent.touches[0].pageY)}),m.bind("touchmove",function(e){(p||e.originalEvent.preventDefault(),e.originalEvent.touches.length)&&(S((l-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),l=e.originalEvent.touches[0].pageY)}),F(),"bottom"===i.start?(w.css({top:m.outerHeight()-w.outerHeight()}),S(0,!0)):"top"!==i.start&&(S(e(i.start).position().top,null,!0),i.alwaysVisible||w.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}()}function C(t){if(a){var n=0;(t=t||window.event).wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var r=t.target||t.srcTarget||t.srcElement;if(e(r).closest("."+i.wrapperClass).is(m.parent())&&S(n,!0),t.defaultPrevented&&t.preventDefault&&!p)try{t.preventDefault()}catch(e){}p||(t.returnValue=!1)}}function S(e,t,n){p=!1;var a=e,r=m.outerHeight()-w.outerHeight();if(t&&(a=parseInt(w.css("top"))+e*parseInt(i.wheelStep)/100*w.outerHeight(),a=Math.min(Math.max(a,0),r),a=e>0?Math.ceil(a):Math.floor(a),w.css({top:a+"px"})),a=(u=parseInt(w.css("top"))/(m.outerHeight()-w.outerHeight()))*(m[0].scrollHeight-m.outerHeight()),n){var s=(a=e)/m[0].scrollHeight*m.outerHeight();s=Math.min(Math.max(s,0),r),w.css({top:s+"px"})}m.scrollTop(a),m.trigger("slimscrolling",~~a),k(),E()}function F(){c=Math.max(m.outerHeight()/m[0].scrollHeight*m.outerHeight(),h),w.css({height:c+"px"});var e=c==m.outerHeight()?"none":"block";w.css({display:e})}function k(){if(F(),clearTimeout(o),u==~~u){if(p=i.allowPageScroll,d!=u){var e=0==~~u?"top":"bottom";m.trigger("slimscroll",e)}}else p=!1;d=u,c>=m.outerHeight()?p=!0:(w.stop(!0,!0).fadeIn("fast"),i.railVisible&&b.stop(!0,!0).fadeIn("fast"))}function E(){i.alwaysVisible||(o=setTimeout(function(){i.disableFadeOut&&a||r||s||(w.fadeOut("slow"),b.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery);